var rr=Object.defineProperty;var or=(e,t,n)=>t in e?rr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _=(e,t,n)=>or(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const u=(e,t,n)=>{const r=(n||document).querySelector(t);if(r===null)throw new Error(`Element ${t} does not exist.`);if(r.tagName!==e.toUpperCase())throw new Error(`Element ${t} is not a ${e}, but a ${r.tagName.toLowerCase()}.`);return r},cn=e=>e.content.cloneNode(!0),sr={scene:u("div",".scene")},De=new Map,N=e=>{var t;for(const n of sr.scene.children)n.classList.toggle("hidden",n.id!==e);(t=De.get(e))==null||t.forEach(n=>n())},ct=(e,t)=>{let n=De.get(e);n||(n=new Set,De.set(e,n)),n.add(t)},ln=(e,t)=>{ct(e,()=>{var n;t(),(n=De.get(e))==null||n.delete(t)})};let un="";const ir=()=>un,xe=e=>{un=e,N("user-display")};function p(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in i.prototype)d in a||Object.defineProperty(a,d,{value:i.prototype[d].bind(a)});a._zod.constr=i,a._zod.def=l}const o=(n==null?void 0:n.Parent)??Object;class s extends o{}Object.defineProperty(s,"name",{value:e});function i(a){var l;const c=n!=null&&n.Parent?new s:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:a=>{var l,c;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class ye extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const dn={};function te(e){return dn}function ar(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function cr(e,t){return typeof t=="bigint"?t.toString():t}function pn(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function lt(e){return e==null}function ut(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function lr(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r,s=Number.parseInt(e.toFixed(o).replace(".","")),i=Number.parseInt(t.toFixed(o).replace(".",""));return s%i/10**o}function T(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function dt(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function hn(e=10){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}function me(e){return JSON.stringify(e)}const mn=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function et(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const ur=pn(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function tt(e){if(et(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(et(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}const dr=new Set(["string","number","symbol"]);function Ae(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ae(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function g(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function pr(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const hr={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function mr(e,t){const n={},r=e._zod.def;for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(n[o]=r.shape[o])}return ae(e,{...e._zod.def,shape:n,checks:[]})}function fr(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete n[o]}return ae(e,{...e._zod.def,shape:n,checks:[]})}function gr(e,t){const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return dt(this,"shape",r),r},checks:[]};return ae(e,n)}function br(e,t){return ae(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return dt(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function vr(e,t,n){const r=t._zod.def.shape,o={...r};if(n)for(const s in n){if(!(s in r))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=e?new e({type:"optional",innerType:r[s]}):r[s])}else for(const s in r)o[s]=e?new e({type:"optional",innerType:r[s]}):r[s];return ae(t,{...t._zod.def,shape:o,checks:[]})}function kr(e,t,n){const r=t._zod.def.shape,o={...r};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(o[s]=new e({type:"nonoptional",innerType:r[s]}))}else for(const s in r)o[s]=new e({type:"nonoptional",innerType:r[s]});return ae(t,{...t._zod.def,shape:o,checks:[]})}function ve(e,t=0){for(let n=t;n<e.issues.length;n++)if(e.issues[n].continue!==!0)return!0;return!1}function oe(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ie(e){return typeof e=="string"?e:e==null?void 0:e.message}function ne(e,t,n){var o,s,i,a,l,c;const r={...e,path:e.path??[]};if(!e.message){const d=Ie((i=(s=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:s.error)==null?void 0:i.call(s,e))??Ie((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??Ie((l=n.customError)==null?void 0:l.call(n,e))??Ie((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function pt(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ze(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const fn=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,cr,2)},enumerable:!0})},gn=p("$ZodError",fn),bn=p("$ZodError",fn,{Parent:Error});function wr(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function xr(e,t){const n=t||function(s){return s.message},r={_errors:[]},o=s=>{for(const i of s.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(a=>o({issues:a}));else if(i.code==="invalid_key")o({issues:i.issues});else if(i.code==="invalid_element")o({issues:i.issues});else if(i.path.length===0)r._errors.push(n(i));else{let a=r,l=0;for(;l<i.path.length;){const c=i.path[l];l===i.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(i))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return o(e),r}const yr=e=>(t,n,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise)throw new ye;if(i.issues.length){const a=new((o==null?void 0:o.Err)??e)(i.issues.map(l=>ne(l,s,te())));throw mn(a,o==null?void 0:o.callee),a}return i.value},zr=e=>async(t,n,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const a=new((o==null?void 0:o.Err)??e)(i.issues.map(l=>ne(l,s,te())));throw mn(a,o==null?void 0:o.callee),a}return i.value},vn=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new ye;return s.issues.length?{success:!1,error:new(e??gn)(s.issues.map(i=>ne(i,o,te())))}:{success:!0,data:s.value}},_r=vn(bn),kn=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>ne(i,o,te())))}:{success:!0,data:s.value}},Ar=kn(bn),Er=/^[cC][^\s-]{8,}$/,Sr=/^[0-9a-z]+$/,Ir=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Rr=/^[0-9a-vA-V]{20}$/,Zr=/^[A-Za-z0-9]{27}$/,Tr=/^[a-zA-Z0-9_-]{21}$/,Pr=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Lr=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Zt=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Cr=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,$r="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Dr(){return new RegExp($r,"u")}const Or=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Nr=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Ur=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Br=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Fr=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wn=/^[A-Za-z0-9_-]*$/,Mr=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Gr=/^\+(?:[0-9]){6,14}[0-9]$/,xn="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jr=new RegExp(`^${xn}$`);function yn(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Kr(e){return new RegExp(`^${yn(e)}$`)}function qr(e){const t=yn({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${xn}T(?:${r})$`)}const Qr=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Wr=/^\d+$/,Jr=/^-?\d+(?:\.\d+)?/i,Vr=/true|false/i,Yr=/^[^A-Z]*$/,Hr=/^[^a-z]*$/,M=p("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),zn={number:"number",bigint:"bigint",object:"date"},_n=p("$ZodCheckLessThan",(e,t)=>{M.init(e,t);const n=zn[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,s=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),An=p("$ZodCheckGreaterThan",(e,t)=>{M.init(e,t);const n=zn[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,s=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Xr=p("$ZodCheckMultipleOf",(e,t)=>{M.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):lr(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),eo=p("$ZodCheckNumberFormat",(e,t)=>{var i;M.init(e,t),t.format=t.format||"float64";const n=(i=t.format)==null?void 0:i.includes("int"),r=n?"int":"number",[o,s]=hr[t.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=o,l.maximum=s,n&&(l.pattern=Wr)}),e._zod.check=a=>{const l=a.value;if(n){if(!Number.isInteger(l)){a.issues.push({expected:r,format:t.format,code:"invalid_type",input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<o&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),l>s&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),to=p("$ZodCheckMaxLength",(e,t)=>{M.init(e,t),e._zod.when=n=>{const r=n.value;return!lt(r)&&r.length!==void 0},e._zod.onattach.push(n=>{const r=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const s=pt(r);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),no=p("$ZodCheckMinLength",(e,t)=>{M.init(e,t),e._zod.when=n=>{const r=n.value;return!lt(r)&&r.length!==void 0},e._zod.onattach.push(n=>{const r=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const s=pt(r);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),ro=p("$ZodCheckLengthEquals",(e,t)=>{M.init(e,t),e._zod.when=n=>{const r=n.value;return!lt(r)&&r.length!==void 0},e._zod.onattach.push(n=>{const r=n._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=n=>{const r=n.value,o=r.length;if(o===t.length)return;const s=pt(r),i=o>t.length;n.issues.push({origin:s,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},input:n.value,inst:e,continue:!t.abort})}}),je=p("$ZodCheckStringFormat",(e,t)=>{var n;M.init(e,t),e._zod.onattach.push(r=>{const o=r._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),(n=e._zod).check??(n.check=r=>{if(!t.pattern)throw new Error("Not implemented.");t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})})}),oo=p("$ZodCheckRegex",(e,t)=>{je.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),so=p("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Yr),je.init(e,t)}),io=p("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Hr),je.init(e,t)}),ao=p("$ZodCheckIncludes",(e,t)=>{M.init(e,t);const n=Ae(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),co=p("$ZodCheckStartsWith",(e,t)=>{M.init(e,t);const n=new RegExp(`^${Ae(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),lo=p("$ZodCheckEndsWith",(e,t)=>{M.init(e,t);const n=new RegExp(`.*${Ae(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),uo=p("$ZodCheckOverwrite",(e,t)=>{M.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class po{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),o=Math.min(...r.map(i=>i.length-i.trimStart().length)),s=r.map(i=>i.slice(o)).map(i=>" ".repeat(this.indent*2)+i);for(const i of s)this.content.push(i)}compile(){const t=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,o.join(`
`))}}const ho={major:4,minor:0,patch:0},S=p("$ZodType",(e,t)=>{var o;var n;e??(e={}),T(e._zod,"id",()=>t.type+"_"+hn(10)),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=ho;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const i of s._zod.onattach)i(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const s=(i,a,l)=>{let c=ve(i),d;for(const f of a){if(f._zod.when){if(!f._zod.when(i))continue}else if(c)continue;const h=i.issues.length,b=f._zod.check(i);if(b instanceof Promise&&(l==null?void 0:l.async)===!1)throw new ye;if(d||b instanceof Promise)d=(d??Promise.resolve()).then(async()=>{await b,i.issues.length!==h&&(c||(c=ve(i,h)))});else{if(i.issues.length===h)continue;c||(c=ve(i,h))}}return d?d.then(()=>i):i};e._zod.run=(i,a)=>{const l=e._zod.parse(i,a);if(l instanceof Promise){if(a.async===!1)throw new ye;return l.then(c=>s(c,r,a))}return s(l,r,a)}}e["~standard"]={validate:s=>{var i;try{const a=_r(e,s);return a.success?{value:a.data}:{issues:(i=a.error)==null?void 0:i.issues}}catch{return Ar(e,s).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),ht=p("$ZodString",(e,t)=>{var n;S.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Qr(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),I=p("$ZodStringFormat",(e,t)=>{je.init(e,t),ht.init(e,t)}),mo=p("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Lr),I.init(e,t)}),fo=p("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Zt(r))}else t.pattern??(t.pattern=Zt());I.init(e,t)}),go=p("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Cr),I.init(e,t)}),bo=p("$ZodURL",(e,t)=>{I.init(e,t),e._zod.check=n=>{try{const r=new URL(n.value);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:Mr.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort}));return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),vo=p("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Dr()),I.init(e,t)}),ko=p("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=Tr),I.init(e,t)}),wo=p("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Er),I.init(e,t)}),xo=p("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Sr),I.init(e,t)}),yo=p("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Ir),I.init(e,t)}),zo=p("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Rr),I.init(e,t)}),_o=p("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Zr),I.init(e,t)}),Ao=p("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=qr(t)),I.init(e,t),e._zod.check}),Eo=p("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=jr),I.init(e,t)}),So=p("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Kr(t)),I.init(e,t),e._zod.check}),Io=p("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Pr),I.init(e,t)}),Ro=p("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Or),I.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Zo=p("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Nr),I.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),To=p("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Ur),I.init(e,t)}),Po=p("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Br),I.init(e,t),e._zod.check=n=>{const[r,o]=n.value.split("/");try{if(!o)throw new Error;const s=Number(o);if(`${s}`!==o)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function En(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Lo=p("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Fr),I.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{En(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function Co(e){if(!wn.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return En(n)}const $o=p("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=wn),I.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{Co(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Do=p("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Gr),I.init(e,t)});function Oo(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n,o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const No=p("$ZodJWT",(e,t)=>{I.init(e,t),e._zod.check=n=>{Oo(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Sn=p("$ZodNumber",(e,t)=>{S.init(e,t),e._zod.pattern=e._zod.bag.pattern??Jr,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...s?{received:s}:{}}),n}}),Uo=p("$ZodNumber",(e,t)=>{eo.init(e,t),Sn.init(e,t)}),Bo=p("$ZodBoolean",(e,t)=>{S.init(e,t),e._zod.pattern=Vr,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const o=n.value;return typeof o=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),n}}),Fo=p("$ZodUnknown",(e,t)=>{S.init(e,t),e._zod.parse=n=>n}),Mo=p("$ZodNever",(e,t)=>{S.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Tt(e,t,n){e.issues.length&&t.issues.push(...oe(n,e.issues)),t.value[n]=e.value}const Go=p("$ZodArray",(e,t)=>{S.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const s=[];for(let i=0;i<o.length;i++){const a=o[i],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?s.push(l.then(c=>Tt(c,n,i))):Tt(l,n,i)}return s.length?Promise.all(s).then(()=>n):n}});function Re(e,t,n){e.issues.length&&t.issues.push(...oe(n,e.issues)),t.value[n]=e.value}function Pt(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...oe(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const jo=p("$ZodObject",(e,t)=>{S.init(e,t);const n=pn(()=>{const f=Object.keys(t.shape);for(const b of f)if(!(t.shape[b]instanceof S))throw new Error(`Invalid element at key "${b}": expected a Zod schema`);const h=pr(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(h)}});T(e._zod,"propValues",()=>{const f=t.shape,h={};for(const b in f){const v=f[b]._zod;if(v.values){h[b]??(h[b]=new Set);for(const R of v.values)h[b].add(R)}}return h});const r=f=>{const h=new po(["shape","payload","ctx"]),{keys:b,optionalKeys:v}=n.value,R=$=>{const E=me($);return`shape[${E}]._zod.run({ value: input[${E}], issues: [] }, ctx)`};h.write("const input = payload.value;");const V=Object.create(null);for(const $ of b)V[$]=hn(15);h.write("const newResult = {}");for(const $ of b)if(v.has($)){const E=V[$];h.write(`const ${E} = ${R($)};`);const L=me($);h.write(`
        if (${E}.issues.length) {
          if (input[${L}] === undefined) {
            if (${L} in input) {
              newResult[${L}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${E}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${L}, ...iss.path] : [${L}],
              }))
            );
          }
        } else if (${E}.value === undefined) {
          if (${L} in input) newResult[${L}] = undefined;
        } else {
          newResult[${L}] = ${E}.value;
        }
        `)}else{const E=V[$];h.write(`const ${E} = ${R($)};`),h.write(`
          if (${E}.issues.length) payload.issues = payload.issues.concat(${E}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${me($)}, ...iss.path] : [${me($)}]
          })));`),h.write(`newResult[${me($)}] = ${E}.value`)}h.write("payload.value = newResult;"),h.write("return payload;");const Y=h.compile();return($,E)=>Y(f,$,E)};let o;const s=et,i=!dn.jitless,l=i&&ur.value,{catchall:c}=t;let d;e._zod.parse=(f,h)=>{d??(d=n.value);const b=f.value;if(!s(b))return f.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),f;const v=[];if(i&&l&&(h==null?void 0:h.async)===!1&&h.jitless!==!0)o||(o=r(t.shape)),f=o(f,h);else{f.value={};const E=d.shape;for(const L of d.keys){const re=E[L],H=re._zod.run({value:b[L],issues:[]},h),X=re._zod.optin==="optional"&&re._zod.optout==="optional";H instanceof Promise?v.push(H.then(Rt=>X?Pt(Rt,f,L,b):Re(Rt,f,L))):X?Pt(H,f,L,b):Re(H,f,L)}}if(!c)return v.length?Promise.all(v).then(()=>f):f;const R=[],V=d.keySet,Y=c._zod,$=Y.def.type;for(const E of Object.keys(b)){if(V.has(E))continue;if($==="never"){R.push(E);continue}const L=Y.run({value:b[E],issues:[]},h);L instanceof Promise?v.push(L.then(re=>Re(re,f,E))):Re(L,f,E)}return R.length&&f.issues.push({code:"unrecognized_keys",keys:R,input:b,inst:e}),v.length?Promise.all(v).then(()=>f):f}});function Lt(e,t,n,r){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(o=>o.issues.map(s=>ne(s,r,te())))}),t}const Ko=p("$ZodUnion",(e,t)=>{S.init(e,t),T(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),T(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>ut(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let o=!1;const s=[];for(const i of t.options){const a=i._zod.run({value:n.value,issues:[]},r);if(a instanceof Promise)s.push(a),o=!0;else{if(a.issues.length===0)return a;s.push(a)}}return o?Promise.all(s).then(i=>Lt(i,n,e,r)):Lt(s,n,e,r)}}),qo=p("$ZodIntersection",(e,t)=>{S.init(e,t),e._zod.parse=(n,r)=>{const{value:o}=n,s=t.left._zod.run({value:o,issues:[]},r),i=t.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,c])=>Ct(n,l,c)):Ct(n,s,i)}});function nt(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(tt(e)&&tt(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),o={...e,...t};for(const s of r){const i=nt(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};o[s]=i.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],s=t[r],i=nt(o,s);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Ct(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),ve(e))return e;const r=nt(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const Qo=p("$ZodRecord",(e,t)=>{S.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!tt(o))return n.issues.push({expected:"record",code:"invalid_type",input:o,inst:e}),n;const s=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;n.value={};for(const l of i)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const c=t.valueType._zod.run({value:o[l],issues:[]},r);c instanceof Promise?s.push(c.then(d=>{d.issues.length&&n.issues.push(...oe(l,d.issues)),n.value[l]=d.value})):(c.issues.length&&n.issues.push(...oe(l,c.issues)),n.value[l]=c.value)}let a;for(const l in o)i.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:o,inst:e,keys:a})}else{n.value={};for(const i of Reflect.ownKeys(o)){if(i==="__proto__")continue;const a=t.keyType._zod.run({value:i,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(c=>ne(c,r,te())),input:i,path:[i],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:o[i],issues:[]},r);l instanceof Promise?s.push(l.then(c=>{c.issues.length&&n.issues.push(...oe(i,c.issues)),n.value[a.value]=c.value})):(l.issues.length&&n.issues.push(...oe(i,l.issues)),n.value[a.value]=l.value)}}return s.length?Promise.all(s).then(()=>n):n}}),Wo=p("$ZodEnum",(e,t)=>{S.init(e,t);const n=ar(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>dr.has(typeof r)).map(r=>typeof r=="string"?Ae(r):r.toString()).join("|")})$`),e._zod.parse=(r,o)=>{const s=r.value;return e._zod.values.has(s)||r.issues.push({code:"invalid_value",values:n,input:s,inst:e}),r}}),Jo=p("$ZodLiteral",(e,t)=>{S.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Ae(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const o=n.value;return e._zod.values.has(o)||n.issues.push({code:"invalid_value",values:t.values,input:o,inst:e}),n}}),Vo=p("$ZodTransform",(e,t)=>{S.init(e,t),e._zod.parse=(n,r)=>{const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(i=>(n.value=i,n));if(o instanceof Promise)throw new ye;return n.value=o,n}}),Yo=p("$ZodOptional",(e,t)=>{S.init(e,t),e._zod.optin="optional",e._zod.optout="optional",T(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),T(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ut(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>n.value===void 0?n:t.innerType._zod.run(n,r)}),Ho=p("$ZodNullable",(e,t)=>{S.init(e,t),T(e._zod,"optin",()=>t.innerType._zod.optin),T(e._zod,"optout",()=>t.innerType._zod.optout),T(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ut(n.source)}|null)$`):void 0}),T(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),Xo=p("$ZodDefault",(e,t)=>{S.init(e,t),e._zod.optin="optional",T(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>$t(s,t)):$t(o,t)}});function $t(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const es=p("$ZodPrefault",(e,t)=>{S.init(e,t),e._zod.optin="optional",T(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),ts=p("$ZodNonOptional",(e,t)=>{S.init(e,t),T(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>Dt(s,e)):Dt(o,e)}});function Dt(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ns=p("$ZodCatch",(e,t)=>{S.init(e,t),T(e._zod,"optin",()=>t.innerType._zod.optin),T(e._zod,"optout",()=>t.innerType._zod.optout),T(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(i=>ne(i,r,te()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>ne(s,r,te()))},input:n.value}),n.issues=[]),n)}}),rs=p("$ZodPipe",(e,t)=>{S.init(e,t),T(e._zod,"values",()=>t.in._zod.values),T(e._zod,"optin",()=>t.in._zod.optin),T(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(n,r)=>{const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(s=>Ot(s,t,r)):Ot(o,t,r)}});function Ot(e,t,n){return ve(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const os=p("$ZodReadonly",(e,t)=>{S.init(e,t),T(e._zod,"propValues",()=>t.innerType._zod.propValues),T(e._zod,"optin",()=>t.innerType._zod.optin),T(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Nt):Nt(o)}});function Nt(e){return e.value=Object.freeze(e.value),e}const ss=p("$ZodCustom",(e,t)=>{M.init(e,t),S.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(s=>Ut(s,n,r,e));Ut(o,n,r,e)}});function Ut(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(ze(o))}}class is{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}remove(t){return this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function as(){return new is}const Ze=as();function cs(e,t){return new e({type:"string",...g(t)})}function ls(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...g(t)})}function Bt(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...g(t)})}function us(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...g(t)})}function ds(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...g(t)})}function ps(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...g(t)})}function hs(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...g(t)})}function ms(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...g(t)})}function fs(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...g(t)})}function gs(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...g(t)})}function bs(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...g(t)})}function vs(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...g(t)})}function ks(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...g(t)})}function ws(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...g(t)})}function xs(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...g(t)})}function ys(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...g(t)})}function zs(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...g(t)})}function _s(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...g(t)})}function As(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...g(t)})}function Es(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...g(t)})}function Ss(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...g(t)})}function Is(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...g(t)})}function Rs(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...g(t)})}function Zs(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...g(t)})}function Ts(e,t){return new e({type:"string",format:"date",check:"string_format",...g(t)})}function Ps(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...g(t)})}function Ls(e,t){return new e({type:"string",format:"duration",check:"string_format",...g(t)})}function Cs(e,t){return new e({type:"number",checks:[],...g(t)})}function $s(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...g(t)})}function Ds(e,t){return new e({type:"boolean",...g(t)})}function Os(e){return new e({type:"unknown"})}function Ns(e,t){return new e({type:"never",...g(t)})}function Ft(e,t){return new _n({check:"less_than",...g(t),value:e,inclusive:!1})}function Ve(e,t){return new _n({check:"less_than",...g(t),value:e,inclusive:!0})}function Mt(e,t){return new An({check:"greater_than",...g(t),value:e,inclusive:!1})}function Ye(e,t){return new An({check:"greater_than",...g(t),value:e,inclusive:!0})}function Gt(e,t){return new Xr({check:"multiple_of",...g(t),value:e})}function In(e,t){return new to({check:"max_length",...g(t),maximum:e})}function Oe(e,t){return new no({check:"min_length",...g(t),minimum:e})}function Rn(e,t){return new ro({check:"length_equals",...g(t),length:e})}function Us(e,t){return new oo({check:"string_format",format:"regex",...g(t),pattern:e})}function Bs(e){return new so({check:"string_format",format:"lowercase",...g(e)})}function Fs(e){return new io({check:"string_format",format:"uppercase",...g(e)})}function Ms(e,t){return new ao({check:"string_format",format:"includes",...g(t),includes:e})}function Gs(e,t){return new co({check:"string_format",format:"starts_with",...g(t),prefix:e})}function js(e,t){return new lo({check:"string_format",format:"ends_with",...g(t),suffix:e})}function Ee(e){return new uo({check:"overwrite",tx:e})}function Ks(e){return Ee(t=>t.normalize(e))}function qs(){return Ee(e=>e.trim())}function Qs(){return Ee(e=>e.toLowerCase())}function Ws(){return Ee(e=>e.toUpperCase())}function Js(e,t,n){return new e({type:"array",element:t,...g(n)})}function Vs(e,t,n){return new e({type:"custom",check:"custom",fn:t,...g(n)})}const Ys=p("ZodISODateTime",(e,t)=>{Ao.init(e,t),P.init(e,t)});function Hs(e){return Zs(Ys,e)}const Xs=p("ZodISODate",(e,t)=>{Eo.init(e,t),P.init(e,t)});function ei(e){return Ts(Xs,e)}const ti=p("ZodISOTime",(e,t)=>{So.init(e,t),P.init(e,t)});function ni(e){return Ps(ti,e)}const ri=p("ZodISODuration",(e,t)=>{Io.init(e,t),P.init(e,t)});function oi(e){return Ls(ri,e)}const si=(e,t)=>{gn.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>xr(e,n)},flatten:{value:n=>wr(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},Ke=p("ZodError",si,{Parent:Error}),ii=yr(Ke),ai=zr(Ke),ci=vn(Ke),li=kn(Ke),C=p("ZodType",(e,t)=>(S.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>ae(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>ii(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>ci(e,n,r),e.parseAsync=async(n,r)=>ai(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>li(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(oa(n,r)),e.superRefine=n=>e.check(sa(n)),e.overwrite=n=>e.check(Ee(n)),e.optional=()=>Qt(e),e.nullable=()=>Wt(e),e.nullish=()=>Qt(Wt(e)),e.nonoptional=n=>Vi(e,n),e.array=()=>Ci(e),e.or=n=>Oi([e,n]),e.and=n=>Ui(e,n),e.transform=n=>Jt(e,ji(n)),e.default=n=>Qi(e,n),e.prefault=n=>Ji(e,n),e.catch=n=>Hi(e,n),e.pipe=n=>Jt(e,n),e.readonly=()=>ta(e),e.describe=n=>{const r=e.clone();return Ze.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Ze.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ze.get(e);const r=e.clone();return Ze.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Zn=p("_ZodString",(e,t)=>{ht.init(e,t),C.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Us(...r)),e.includes=(...r)=>e.check(Ms(...r)),e.startsWith=(...r)=>e.check(Gs(...r)),e.endsWith=(...r)=>e.check(js(...r)),e.min=(...r)=>e.check(Oe(...r)),e.max=(...r)=>e.check(In(...r)),e.length=(...r)=>e.check(Rn(...r)),e.nonempty=(...r)=>e.check(Oe(1,...r)),e.lowercase=r=>e.check(Bs(r)),e.uppercase=r=>e.check(Fs(r)),e.trim=()=>e.check(qs()),e.normalize=(...r)=>e.check(Ks(...r)),e.toLowerCase=()=>e.check(Qs()),e.toUpperCase=()=>e.check(Ws())}),ui=p("ZodString",(e,t)=>{ht.init(e,t),Zn.init(e,t),e.email=n=>e.check(ls(di,n)),e.url=n=>e.check(ms(pi,n)),e.jwt=n=>e.check(Rs(Si,n)),e.emoji=n=>e.check(fs(hi,n)),e.guid=n=>e.check(Bt(jt,n)),e.uuid=n=>e.check(us(Te,n)),e.uuidv4=n=>e.check(ds(Te,n)),e.uuidv6=n=>e.check(ps(Te,n)),e.uuidv7=n=>e.check(hs(Te,n)),e.nanoid=n=>e.check(gs(mi,n)),e.guid=n=>e.check(Bt(jt,n)),e.cuid=n=>e.check(bs(fi,n)),e.cuid2=n=>e.check(vs(gi,n)),e.ulid=n=>e.check(ks(bi,n)),e.base64=n=>e.check(Es(_i,n)),e.base64url=n=>e.check(Ss(Ai,n)),e.xid=n=>e.check(ws(vi,n)),e.ksuid=n=>e.check(xs(ki,n)),e.ipv4=n=>e.check(ys(wi,n)),e.ipv6=n=>e.check(zs(xi,n)),e.cidrv4=n=>e.check(_s(yi,n)),e.cidrv6=n=>e.check(As(zi,n)),e.e164=n=>e.check(Is(Ei,n)),e.datetime=n=>e.check(Hs(n)),e.date=n=>e.check(ei(n)),e.time=n=>e.check(ni(n)),e.duration=n=>e.check(oi(n))});function k(e){return cs(ui,e)}const P=p("ZodStringFormat",(e,t)=>{I.init(e,t),Zn.init(e,t)}),di=p("ZodEmail",(e,t)=>{go.init(e,t),P.init(e,t)}),jt=p("ZodGUID",(e,t)=>{mo.init(e,t),P.init(e,t)}),Te=p("ZodUUID",(e,t)=>{fo.init(e,t),P.init(e,t)}),pi=p("ZodURL",(e,t)=>{bo.init(e,t),P.init(e,t)}),hi=p("ZodEmoji",(e,t)=>{vo.init(e,t),P.init(e,t)}),mi=p("ZodNanoID",(e,t)=>{ko.init(e,t),P.init(e,t)}),fi=p("ZodCUID",(e,t)=>{wo.init(e,t),P.init(e,t)}),gi=p("ZodCUID2",(e,t)=>{xo.init(e,t),P.init(e,t)}),bi=p("ZodULID",(e,t)=>{yo.init(e,t),P.init(e,t)}),vi=p("ZodXID",(e,t)=>{zo.init(e,t),P.init(e,t)}),ki=p("ZodKSUID",(e,t)=>{_o.init(e,t),P.init(e,t)}),wi=p("ZodIPv4",(e,t)=>{Ro.init(e,t),P.init(e,t)}),xi=p("ZodIPv6",(e,t)=>{Zo.init(e,t),P.init(e,t)}),yi=p("ZodCIDRv4",(e,t)=>{To.init(e,t),P.init(e,t)}),zi=p("ZodCIDRv6",(e,t)=>{Po.init(e,t),P.init(e,t)}),_i=p("ZodBase64",(e,t)=>{Lo.init(e,t),P.init(e,t)}),Ai=p("ZodBase64URL",(e,t)=>{$o.init(e,t),P.init(e,t)}),Ei=p("ZodE164",(e,t)=>{Do.init(e,t),P.init(e,t)}),Si=p("ZodJWT",(e,t)=>{No.init(e,t),P.init(e,t)}),Tn=p("ZodNumber",(e,t)=>{Sn.init(e,t),C.init(e,t),e.gt=(r,o)=>e.check(Mt(r,o)),e.gte=(r,o)=>e.check(Ye(r,o)),e.min=(r,o)=>e.check(Ye(r,o)),e.lt=(r,o)=>e.check(Ft(r,o)),e.lte=(r,o)=>e.check(Ve(r,o)),e.max=(r,o)=>e.check(Ve(r,o)),e.int=r=>e.check(Kt(r)),e.safe=r=>e.check(Kt(r)),e.positive=r=>e.check(Mt(0,r)),e.nonnegative=r=>e.check(Ye(0,r)),e.negative=r=>e.check(Ft(0,r)),e.nonpositive=r=>e.check(Ve(0,r)),e.multipleOf=(r,o)=>e.check(Gt(r,o)),e.step=(r,o)=>e.check(Gt(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function pe(e){return Cs(Tn,e)}const Ii=p("ZodNumberFormat",(e,t)=>{Uo.init(e,t),Tn.init(e,t)});function Kt(e){return $s(Ii,e)}const Ri=p("ZodBoolean",(e,t)=>{Bo.init(e,t),C.init(e,t)});function mt(e){return Ds(Ri,e)}const Zi=p("ZodUnknown",(e,t)=>{Fo.init(e,t),C.init(e,t)});function qt(){return Os(Zi)}const Ti=p("ZodNever",(e,t)=>{Mo.init(e,t),C.init(e,t)});function Pi(e){return Ns(Ti,e)}const Li=p("ZodArray",(e,t)=>{Go.init(e,t),C.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(Oe(n,r)),e.nonempty=n=>e.check(Oe(1,n)),e.max=(n,r)=>e.check(In(n,r)),e.length=(n,r)=>e.check(Rn(n,r)),e.unwrap=()=>e.element});function Ci(e,t){return Js(Li,e,t)}const $i=p("ZodObject",(e,t)=>{jo.init(e,t),C.init(e,t),T(e,"shape",()=>Object.fromEntries(Object.entries(e._zod.def.shape))),e.keyof=()=>Pn(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:qt()}),e.loose=()=>e.clone({...e._zod.def,catchall:qt()}),e.strict=()=>e.clone({...e._zod.def,catchall:Pi()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>gr(e,n),e.merge=n=>br(e,n),e.pick=n=>mr(e,n),e.omit=n=>fr(e,n),e.partial=(...n)=>vr(Ln,e,n[0]),e.required=(...n)=>kr(Cn,e,n[0])});function w(e,t){const n={type:"object",get shape(){return dt(this,"shape",{...e}),this.shape},...g(t)};return new $i(n)}const Di=p("ZodUnion",(e,t)=>{Ko.init(e,t),C.init(e,t),e.options=t.options});function Oi(e,t){return new Di({type:"union",options:e,...g(t)})}const Ni=p("ZodIntersection",(e,t)=>{qo.init(e,t),C.init(e,t)});function Ui(e,t){return new Ni({type:"intersection",left:e,right:t})}const Bi=p("ZodRecord",(e,t)=>{Qo.init(e,t),C.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function Fi(e,t,n){return new Bi({type:"record",keyType:e,valueType:t,...g(n)})}const rt=p("ZodEnum",(e,t)=>{Wo.init(e,t),C.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const s={};for(const i of r)if(n.has(i))s[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new rt({...t,checks:[],...g(o),entries:s})},e.exclude=(r,o)=>{const s={...t.entries};for(const i of r)if(n.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new rt({...t,checks:[],...g(o),entries:s})}});function Pn(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new rt({type:"enum",entries:n,...g(t)})}const Mi=p("ZodLiteral",(e,t)=>{Jo.init(e,t),C.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function q(e,t){return new Mi({type:"literal",values:Array.isArray(e)?e:[e],...g(t)})}const Gi=p("ZodTransform",(e,t)=>{Vo.init(e,t),C.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=s=>{if(typeof s=="string")n.issues.push(ze(s,n.value,t));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!0),n.issues.push(ze(i))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(s=>(n.value=s,n)):(n.value=o,n)}});function ji(e){return new Gi({type:"transform",transform:e})}const Ln=p("ZodOptional",(e,t)=>{Yo.init(e,t),C.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Qt(e){return new Ln({type:"optional",innerType:e})}const Ki=p("ZodNullable",(e,t)=>{Ho.init(e,t),C.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Wt(e){return new Ki({type:"nullable",innerType:e})}const qi=p("ZodDefault",(e,t)=>{Xo.init(e,t),C.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Qi(e,t){return new qi({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Wi=p("ZodPrefault",(e,t)=>{es.init(e,t),C.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Ji(e,t){return new Wi({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Cn=p("ZodNonOptional",(e,t)=>{ts.init(e,t),C.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Vi(e,t){return new Cn({type:"nonoptional",innerType:e,...g(t)})}const Yi=p("ZodCatch",(e,t)=>{ns.init(e,t),C.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Hi(e,t){return new Yi({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Xi=p("ZodPipe",(e,t)=>{rs.init(e,t),C.init(e,t),e.in=t.in,e.out=t.out});function Jt(e,t){return new Xi({type:"pipe",in:e,out:t})}const ea=p("ZodReadonly",(e,t)=>{os.init(e,t),C.init(e,t)});function ta(e){return new ea({type:"readonly",innerType:e})}const na=p("ZodCustom",(e,t)=>{ss.init(e,t),C.init(e,t)});function ra(e,t){const n=new M({check:"custom",...g(t)});return n._zod.check=e,n}function oa(e,t={}){return Vs(na,e,t)}function sa(e,t){const n=ra(r=>(r.addIssue=o=>{if(typeof o=="string")r.issues.push(ze(o,r.value,n._zod.def));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=n),s.continue??(s.continue=!n._zod.def.abort),r.issues.push(ze(s))}},e(r.value,r)),t);return n}const ce=w({_id:k(),username:k(),display_name:k(),created:pe().transform(e=>new Date(e*1e3)),avatar:k(),bot:mt(),banned_until:pe(),permissions:k().array(),profile:w({bio:k(),lastfm:k(),css:k().optional()}),banner:k().optional()}),$n=w({_id:k(),created:pe().transform(e=>new Date(e*1e3)),content:k(),get replies(){return $n.array()},attachments:k().array(),author:ce.omit({profile:!0}).or(k())}),Dn=w({_id:k(),created:pe().transform(e=>new Date(e*1e3)),content:k(),replies:$n.array(),attachments:k().array(),author:ce.omit({profile:!0})}),On=Fi(k(),w({client:k().nullable()})),ia=w({_id:k(),created:pe().transform(e=>new Date(e*1e3)),content:k(),author:k()}),aa=":root{--deer-background: #ffffff;--deer-foreground: #000000;--deer-reply: #303030;--deer-button: #ebebeb;--deer-button-hover: #e0e0e0;--deer-button-disabled: #9b9b9b;--deer-error: #000000;--deer-seperator: #aaaaaa;--deer-horizontalrule: #9e9a8f;--deer-image-border: #a19e95;--deer-container-background: #d3d3d3;--deer-danger-background: #ffdbdb}",ca=":root{--deer-background: #fff8e7;--deer-foreground: #292825;--deer-reply: #46443f;--deer-button: #cec8b8;--deer-button-hover: #ebe4d5;--deer-button-disabled: #8f897c;--deer-error: #201f1b;--deer-seperator: #b9b5a8;--deer-horizontalrule: #9e9a8f;--deer-image-border: #a19e95;--deer-container-background: #e2dbcc;--deer-danger-background: #d4b1b1}",la=":root{--deer-background: #2e2d2b;--deer-foreground: #ede4d5;--deer-reply: #c2baac;--deer-button: #4d4a45;--deer-button-hover: #403d39;--deer-button-disabled: #282623;--deer-error: #f2b149;--deer-seperator: #474643;--deer-horizontalrule: #6e6b65;--deer-image-border: #383531;--deer-container-background: #34322f;--deer-danger-background: #422b2b}",ua=":root{--deer-background: #303030;--deer-foreground: #e6f0f6;--deer-reply: #c8c8c8;--deer-button: #4c4c4c;--deer-button-hover: #434343;--deer-button-disabled: #242424;--deer-error: #5394d2;--deer-seperator: #4a4a4a;--deer-horizontalrule: #747474;--deer-image-border: #3e3e3e;--deer-container-background: #383838;--deer-danger-background: #422b2b}",da=":root{--deer-background: #000000;--deer-foreground: #ffffff;--deer-reply: #d6d6d6;--deer-button: #1a1a1a;--deer-button-hover: #1f1f1f;--deer-button-disabled: #3d3d3d;--deer-error: #ffffff;--deer-seperator: #383838;--deer-horizontalrule: #464646;--deer-image-border: #383838;--deer-container-background: #292929;--deer-danger-background: #382727}",pa='@import"https://fonts.googleapis.com/css2?family=Asap:ital,wght@0,100..900;1,100..900&display=swap";:root{--deer-background: #020617;--deer-foreground: #cbd5e1;--deer-reply: #cbd5e1;--deer-button: #1e293b;--deer-button-hover: #1e293b;--deer-button-disabled: #1e293b;--deer-error: #1e293b;--deer-seperator: #cbd5e1;--deer-horizontalrule: #cbd5e1;--deer-image-border: #0000000;--deer-container-background: #020617;--deer-danger-background: #020617}#error-bar,.mc-preview-error{color:var(--deer-foreground)}body{width:min(100%,100ch);margin:0 auto}body,button,input,textarea{font-family:Asap,"Noto Color Emoji",sitelen seli kiwen}body:before{text-align:center;font-weight:700;display:block;content:"BearDeer";font-size:1.875rem}code,button,input,textarea,.post,.album-cover,#ud-lastfm-container,#ud-bio-container,.mc-container,#ms-danger-container,.mc-theme-preview,.mc-preview-post,.mc-preview-pfp,.mm-container{border-radius:.75rem}input,textarea{background-color:transparent;border:2px solid var(--deer-button)}a,#nav button,#ms-userbox button,#ms-ulist>span{color:#38bdf8;text-decoration:underline;padding:0;background:0;font-size:1rem}#ms-ulist>span>.client-icon{display:none}#nav,#ms-userbox{display:flex;align-items:center;justify-content:center;gap:.5rem;margin-top:0}#ms-hide-guest-nav{display:contents}#nav .ms-seperator,#ms-userbox.hidden{display:none}.scene{margin-top:0}#ms-make-post>center{display:flex;text-align:center;gap:.5ch}.ms-replies-wrapper{flex-direction:column;gap:0}.ms-replies-wrapper br{display:none}#ms-replies:empty{display:none}#ms-replies .reply:last-child{margin:0}#ms-msg-wrapper{flex-grow:1}#ms-msg{width:100%}.post .reply{opacity:40%;margin-bottom:.5rem}.post{padding:.25rem .5rem}.post>br{display:none}hr{display:none}.post>span.clickable[onclick^=showUser],.post>small{display:block;margin-bottom:.25rem}[id^=p-][id*=-attachment],[id^=p-][id*=-attachment]+br{display:none}',ha=":root{--deer-background: #303030;--deer-foreground: #e6f0f6;--deer-reply: #c8c8c8;--deer-button: #4c4c4c;--deer-button-hover: #434343;--deer-button-disabled: #242424;--deer-error: #5394d2;--deer-seperator: #4a4a4a;--deer-horizontalrule: #747474;--deer-image-border: #3e3e3e;--deer-container-background: #383838;--deer-danger-background: #422b2b}code{background-color:#1c1d20;display:block;border-radius:2px;box-shadow:inset 0 0 2px #00000096,0 0 2px #0000005e;border-bottom:1px solid #ffffff3d}button:not(.no-button-styles){border-radius:0;padding:7px;font-family:Noto Sans,sans-serif;border:1px solid var(--deer-horizontalrule);-webkit-box-shadow:#000 0 1px 0,0 1px 3px black;box-shadow:#000 0 1px,0 1px 3px #000;border-top:1px solid #fff3;transition:background .3s ease-in-out}input{border:none;border-radius:0;padding:7px;font-family:Noto Sans,sans-serif;font-size:13.3333px;border:1px solid var(--deer-horizontalrule);-webkit-box-shadow:#000 0 1px 0,0 1px 3px black;box-shadow:#000 0 1px,0 1px 3px #000}textarea:focus{outline:none;-webkit-box-shadow:#000 0 1px 0,0 1px 3px black,0 0 4px;box-shadow:#000 0 1px,0 1px 3px #000,0 2px 5px}textarea{min-width:180px;padding:8px;font-family:Noto Sans,sans-serif;margin-bottom:4px;vertical-align:middle;font-size:13.3333px;background-color:var(--deer-button-hover);color:var(--deer-foreground);border:1px solid var(--deer-horizontalrule);-webkit-box-shadow:#000 0 1px 0,0 1px 3px black;-moz-box-shadow:#000 0 1px 0,0 1px 3px black;box-shadow:#000 0 1px,0 1px 3px #000;transition:box-shadow .3s ease-in-out;overflow:hidden}hr{display:block;height:1px;border:0;border-top:1px solid;padding:0}blockquote{margin-left:70px;border-left:3px solid var(--deer-container-background);padding:12px;background-color:var(--deer-button);box-shadow:0 0 5px #00000021}#main{padding:10px}.post{padding:5px 7px 12px;margin-bottom:0;border-radius:0;box-shadow:0 0 4px -1px #000,inset 0 57px 10px -14px #ffffff08;border-bottom:1px dashed black;border-top:1px solid #ffffff24}.pfp{border-radius:1px;padding:1px;background:#fff}.mono{font-family:monospace}#ms-ulist{font-weight:700;color:var(--deer-reply);text-shadow:1px 1px black}#ms-msg,#ms-button-post{box-sizing:border-box}.album-cover{border-radius:2px}#ud-banner{height:78px;background:var(--deer-button-hover);margin-top:11px}#ud-lastfm-container{border-radius:2px}#ud-display-name{font-weight:700}#ud-bio-container{border-radius:2px;flex-grow:.5;display:flex;flex-direction:column}.title{background:var(--deer-button);padding:5px}#ud-bio-container #ud-bio,#ud-lastfm-container #ud-lastfm-wrapper{padding:5px}.mc-container,#mc-danger-container,.mc-theme-preview,.mc-preview-post{border-radius:2px}.mc-container{border-radius:2px;box-shadow:0 0 1px,0 0 14px -4px #000;flex:1}#error-bar{box-shadow:0 0 3px #000,inset 0 -2px 5px -2px #000}",Ne={theme:u("style","#theme"),customCSS:u("style","#custom-css")},qe={Deer:la,Helium:ua,Midnight:da,Bright:aa,"Cosmic Latte":ca,"Roarer 1":pa,Souple:ha},Nn=Object.keys(qe),ma=w({enterSends:mt(),theme:Pn(Nn),customCSS:k()}),fa={enterSends:!0,theme:"Deer",customCSS:""};let Ue={};try{const e=localStorage.getItem("beardeer:settings");e&&(Ue=ma.partial().parse(JSON.parse(e)))}catch{}const ee=e=>Ue[e]??fa[e],ft=(e,t)=>{Ue[e]=t,localStorage.setItem("beardeer:settings",JSON.stringify(Ue)),e==="theme"&&(Ne.theme.innerHTML=qe[t]),e==="customCSS"&&(Ne.customCSS.innerHTML=t)};Ne.theme.innerHTML=qe[ee("theme")];Ne.customCSS.innerHTML=ee("customCSS");const ga=w({command:q("greet"),version:k(),messages:Dn.array(),ulist:On}),de=new WebSocket("wss://chaos.goog-search.eu.org/"),gt=new Promise(e=>{const t=n=>{const r=ga.safeParse(JSON.parse(n.data));r.success&&(e(r.data),de.removeEventListener("message",t))};de.addEventListener("message",t)});let Un;const bt=new Promise(e=>{Un=e}),Bn=(e,t)=>{localStorage.setItem("beardeer:token",e),Un(t)};let ba=0;const O=(e,t)=>new Promise(n=>{const r=ba++,o=t.and(w({error:q(!1),listener:q(r)})).or(w({error:q(!0),code:k(),form:k(),context:k(),listener:q(r),banned_until:pe().transform(i=>new Date(i*1e3)).optional(),ban_reason:k().optional()})),s=async i=>{var l;const a=o.safeParse(JSON.parse(i.data));a.success&&(a.data.error?(console.log("!",a.data.code,a.data.code==="banned"),a.data.code==="banned"&&(alert(`You are banned until ${((l=a.data.banned_until)==null?void 0:l.toLocaleString())||"an unknown time"} for ${a.data.ban_reason||"an unknown reason"}. You will now be logged out.`),localStorage.removeItem("beardeer:token"),location.reload()),alert(`uh oh! ${a.data.context} (${a.data.code} in ${a.data.form})`),n(null)):n(a.data),de.removeEventListener("message",s))};gt.then(()=>{de.send(JSON.stringify({...e,listener:r})),de.addEventListener("message",s)})}),Qe=(e,t)=>{de.addEventListener("message",n=>{const r=e.safeParse(JSON.parse(n.data));r.success&&t(r.data)})},D=u("div","#main-config"),x={buttonBack:u("button","#mc-button-back",D),displayName:u("input","#mc-display-name",D),buttonDisplayName:u("button","#mc-button-display-name",D),avatar:u("input","#mc-avatar",D),buttonAvatar:u("button","#mc-button-avatar",D),banner:u("input","#mc-banner",D),buttonBanner:u("button","#mc-button-banner",D),css:u("textarea","#mc-css",D),buttonCSS:u("button","#mc-button-css",D),bio:u("textarea","#mc-bio",D),buttonBio:u("button","#mc-button-bio",D),lastfm:u("input","#mc-lastfm",D),buttonLastfm:u("button","#mc-button-lastfm",D),enterSends:u("input","#mc-enter-sends",D),selectedTheme:u("span","#mc-selected-theme",D),themes:u("div","#mc-themes",D),customCSS:u("textarea","#mc-custom-css",D),deleteAccountPassword:u("input","#mc-delete-account-password",D),buttonDeleteAccount:u("button","#mc-delete-account",D)};x.buttonBack.addEventListener("click",()=>{N("main-scene")});ct("main-config",async()=>{x.enterSends.checked=ee("enterSends"),x.selectedTheme.textContent=ee("theme"),x.customCSS.textContent=ee("customCSS");const e=(await bt).username,t=await O({command:"get_user",username:e},w({user:ce}));if(!t){N("main-scene");return}x.displayName.value=t.user.display_name,x.avatar.value=t.user.avatar,x.banner.value=t.user.banner||"",x.css.value=t.user.profile.css||"",x.bio.value=t.user.profile.bio,x.lastfm.value=t.user.profile.lastfm});const he=(e,t)=>O({command:"set_property",property:e,value:t.value},w({}));x.buttonDisplayName.addEventListener("click",()=>he("display_name",x.displayName));x.buttonAvatar.addEventListener("click",()=>he("avatar",x.avatar));x.buttonBanner.addEventListener("click",()=>he("banner",x.banner));x.buttonCSS.addEventListener("click",()=>he("css",x.css));x.buttonBio.addEventListener("click",()=>he("bio",x.bio));x.buttonLastfm.addEventListener("click",()=>he("lastfm",x.lastfm));x.enterSends.addEventListener("input",()=>{ft("enterSends",x.enterSends.checked)});Nn.forEach(e=>{const t=document.createElement("button");t.textContent=e,t.addEventListener("click",()=>{ft("theme",e),x.selectedTheme.textContent=e}),x.themes.append(t)});x.customCSS.addEventListener("input",()=>{ft("customCSS",x.customCSS.value)});x.buttonDeleteAccount.addEventListener("click",async()=>{await O({command:"delete_account",password:x.deleteAccountPassword.value},w({}))&&(localStorage.removeItem("beardeer:token"),location.reload())});const Vt=u("div","#main-inbox"),ot={buttonBack:u("button","#mi-button-back",Vt),posts:u("div","#mi-posts",Vt)};ot.buttonBack.addEventListener("click",()=>{N("main-scene")});ln("main-inbox",async()=>{const e=await O({command:"get_inbox"},w({inbox:ia.array()}));e&&e.inbox.forEach(t=>{ot.posts.append(t.content);const n=document.createElement("em");n.style.display="block",n.style.marginBottom="1rem",n.textContent=` - @${t.author} (${t.created.toLocaleString()})`,ot.posts.append(n)})});const U=u("div","#main-moderation"),Z={buttonBack:u("button","#mm-button-back",U),banUsername:u("input","#mm-ban-username",U),banDate:u("input","#mm-ban-date",U),banReason:u("input","#mm-ban-reason",U),ban:u("button","#mm-ban",U),generateInviteCode:u("button","#mm-generate-invite-code",U),resetInviteCodes:u("button","#mm-reset-invite-codes",U),forcekickUsername:u("input","#mm-forcekick-username",U),forcekick:u("button","#mm-forcekick",U),inboxMessage:u("input","#mm-inbox-message",U),inbox:u("button","#mm-inbox",U),ipsUsername:u("input","#mm-ips-username",U),ips:u("button","#mm-ips",U),ipBanIP:u("input","#mm-ipban-ip",U),ipBan:u("button","#mm-ipban",U)};Z.buttonBack.addEventListener("click",()=>{N("main-scene")});Z.ban.addEventListener("click",async()=>{const e=Z.banDate.value;e&&await O({command:"ban",username:Z.banUsername.value,banned_until:new Date(e).getTime()/1e3,ban_reason:Z.banReason.value},w({}))&&(Z.banUsername.value="",Z.banDate.value="",Z.banReason.value="")});Z.generateInviteCode.addEventListener("click",async()=>{const e=await O({command:"gen_invite"},w({invite_code:k()}));e&&alert("Your invite code is: "+e.invite_code)});Z.resetInviteCodes.addEventListener("click",async()=>{await O({command:"reset_invites"},w({}))});Z.forcekick.addEventListener("click",async()=>{await O({command:"force_kick",username:Z.forcekickUsername.value},w({}))&&(Z.forcekickUsername.value="")});Z.inbox.addEventListener("click",async()=>{await O({command:"post_inbox",content:Z.inboxMessage.value,replies:[],attachments:[]},w({}))&&(Z.inboxMessage.value="")});Z.ips.addEventListener("click",async()=>{const e=await O({command:"get_ips",username:Z.ipsUsername.value},w({ips:k().array()}));e&&(alert(`${Z.ipsUsername.value}'s recent IPs are:
`+e.ips.map(t=>`- ${t}`).join(`
`)),Z.ipsUsername.value="")});Z.ipBan.addEventListener("click",async()=>{await O({command:"banish_to_the_SHADOW_REALM",ip:Z.ipBanIP.value},w({}))&&(Z.ipBanIP.value="")});function vt(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var le=vt();function Fn(e){le=e}var ke={exec:()=>null};function y(e,t=""){let n=typeof e=="string"?e:e.source;const r={replace:(o,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(B.caret,"$1"),n=n.replace(o,i),r},getRegex:()=>new RegExp(n,t)};return r}var B={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},va=/^(?:[ \t]*(?:\n|$))+/,ka=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,wa=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Se=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xa=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,kt=/(?:[*+-]|\d{1,9}[.)])/,Mn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Gn=y(Mn).replace(/bull/g,kt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ya=y(Mn).replace(/bull/g,kt).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),wt=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,za=/^[^\n]+/,xt=/(?!\s*\])(?:\\.|[^\[\]\\])+/,_a=y(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",xt).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Aa=y(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,kt).getRegex(),We="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",yt=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ea=y("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",yt).replace("tag",We).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),jn=y(wt).replace("hr",Se).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We).getRegex(),Sa=y(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",jn).getRegex(),zt={blockquote:Sa,code:ka,def:_a,fences:wa,heading:xa,hr:Se,html:Ea,lheading:Gn,list:Aa,newline:va,paragraph:jn,table:ke,text:za},Yt=y("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Se).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We).getRegex(),Ia={...zt,lheading:ya,table:Yt,paragraph:y(wt).replace("hr",Se).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Yt).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",We).getRegex()},Ra={...zt,html:y(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",yt).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ke,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:y(wt).replace("hr",Se).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Gn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Za=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ta=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Kn=/^( {2,}|\\)\n(?!\s*$)/,Pa=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Je=/[\p{P}\p{S}]/u,_t=/[\s\p{P}\p{S}]/u,qn=/[^\s\p{P}\p{S}]/u,La=y(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_t).getRegex(),Qn=/(?!~)[\p{P}\p{S}]/u,Ca=/(?!~)[\s\p{P}\p{S}]/u,$a=/(?:[^\s\p{P}\p{S}]|~)/u,Da=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,Wn=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Oa=y(Wn,"u").replace(/punct/g,Je).getRegex(),Na=y(Wn,"u").replace(/punct/g,Qn).getRegex(),Jn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ua=y(Jn,"gu").replace(/notPunctSpace/g,qn).replace(/punctSpace/g,_t).replace(/punct/g,Je).getRegex(),Ba=y(Jn,"gu").replace(/notPunctSpace/g,$a).replace(/punctSpace/g,Ca).replace(/punct/g,Qn).getRegex(),Fa=y("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,qn).replace(/punctSpace/g,_t).replace(/punct/g,Je).getRegex(),Ma=y(/\\(punct)/,"gu").replace(/punct/g,Je).getRegex(),Ga=y(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ja=y(yt).replace("(?:-->|$)","-->").getRegex(),Ka=y("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ja).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Be=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qa=y(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Be).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Vn=y(/^!?\[(label)\]\[(ref)\]/).replace("label",Be).replace("ref",xt).getRegex(),Yn=y(/^!?\[(ref)\](?:\[\])?/).replace("ref",xt).getRegex(),Qa=y("reflink|nolink(?!\\()","g").replace("reflink",Vn).replace("nolink",Yn).getRegex(),At={_backpedal:ke,anyPunctuation:Ma,autolink:Ga,blockSkip:Da,br:Kn,code:Ta,del:ke,emStrongLDelim:Oa,emStrongRDelimAst:Ua,emStrongRDelimUnd:Fa,escape:Za,link:qa,nolink:Yn,punctuation:La,reflink:Vn,reflinkSearch:Qa,tag:Ka,text:Pa,url:ke},Wa={...At,link:y(/^!?\[(label)\]\((.*?)\)/).replace("label",Be).getRegex(),reflink:y(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Be).getRegex()},st={...At,emStrongRDelimAst:Ba,emStrongLDelim:Na,url:y(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Ja={...st,br:y(Kn).replace("{2,}","*").getRegex(),text:y(st.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Pe={normal:zt,gfm:Ia,pedantic:Ra},fe={normal:At,gfm:st,breaks:Ja,pedantic:Wa},Va={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ht=e=>Va[e];function K(e,t){if(t){if(B.escapeTest.test(e))return e.replace(B.escapeReplace,Ht)}else if(B.escapeTestNoEncode.test(e))return e.replace(B.escapeReplaceNoEncode,Ht);return e}function Xt(e){try{e=encodeURI(e).replace(B.percentDecode,"%")}catch{return null}return e}function en(e,t){var s;const n=e.replace(B.findPipe,(i,a,l)=>{let c=!1,d=a;for(;--d>=0&&l[d]==="\\";)c=!c;return c?"|":" |"}),r=n.split(B.splitPipe);let o=0;if(r[0].trim()||r.shift(),r.length>0&&!((s=r.at(-1))!=null&&s.trim())&&r.pop(),t)if(r.length>t)r.splice(t);else for(;r.length<t;)r.push("");for(;o<r.length;o++)r[o]=r[o].trim().replace(B.slashPipe,"|");return r}function ge(e,t,n){const r=e.length;if(r===0)return"";let o=0;for(;o<r&&e.charAt(r-o-1)===t;)o++;return e.slice(0,r-o)}function Ya(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let r=0;r<e.length;r++)if(e[r]==="\\")r++;else if(e[r]===t[0])n++;else if(e[r]===t[1]&&(n--,n<0))return r;return n>0?-2:-1}function tn(e,t,n,r,o){const s=t.href,i=t.title||null,a=e[1].replace(o.other.outputLinkReplace,"$1");r.state.inLink=!0;const l={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:i,text:a,tokens:r.inlineTokens(a)};return r.state.inLink=!1,l}function Ha(e,t,n){const r=e.match(n.other.indentCodeCompensation);if(r===null)return t;const o=r[1];return t.split(`
`).map(s=>{const i=s.match(n.other.beginningSpace);if(i===null)return s;const[a]=i;return a.length>=o.length?s.slice(o.length):s}).join(`
`)}var Fe=class{constructor(e){_(this,"options");_(this,"rules");_(this,"lexer");this.options=e||le}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:ge(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=Ha(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){const r=ge(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:ge(t[0],`
`)}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){let n=ge(t[0],`
`).split(`
`),r="",o="";const s=[];for(;n.length>0;){let i=!1;const a=[];let l;for(l=0;l<n.length;l++)if(this.rules.other.blockquoteStart.test(n[l]))a.push(n[l]),i=!0;else if(!i)a.push(n[l]);else break;n=n.slice(l);const c=a.join(`
`),d=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${c}`:c,o=o?`${o}
${d}`:d;const f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=f,n.length===0)break;const h=s.at(-1);if((h==null?void 0:h.type)==="code")break;if((h==null?void 0:h.type)==="blockquote"){const b=h,v=b.raw+`
`+n.join(`
`),R=this.blockquote(v);s[s.length-1]=R,r=r.substring(0,r.length-b.raw.length)+R.raw,o=o.substring(0,o.length-b.text.length)+R.text;break}else if((h==null?void 0:h.type)==="list"){const b=h,v=b.raw+`
`+n.join(`
`),R=this.list(v);s[s.length-1]=R,r=r.substring(0,r.length-h.raw.length)+R.raw,o=o.substring(0,o.length-b.raw.length)+R.raw,n=v.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:o}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim();const r=n.length>1,o={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");const s=this.rules.other.listItemRegex(n);let i=!1;for(;e;){let l=!1,c="",d="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let f=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,Y=>" ".repeat(3*Y.length)),h=e.split(`
`,1)[0],b=!f.trim(),v=0;if(this.options.pedantic?(v=2,d=f.trimStart()):b?v=t[1].length+1:(v=t[2].search(this.rules.other.nonSpaceChar),v=v>4?1:v,d=f.slice(v),v+=t[1].length),b&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,e=e.substring(h.length+1),l=!0),!l){const Y=this.rules.other.nextBulletRegex(v),$=this.rules.other.hrRegex(v),E=this.rules.other.fencesBeginRegex(v),L=this.rules.other.headingBeginRegex(v),re=this.rules.other.htmlBeginRegex(v);for(;e;){const H=e.split(`
`,1)[0];let X;if(h=H,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),X=h):X=h.replace(this.rules.other.tabCharGlobal,"    "),E.test(h)||L.test(h)||re.test(h)||Y.test(h)||$.test(h))break;if(X.search(this.rules.other.nonSpaceChar)>=v||!h.trim())d+=`
`+X.slice(v);else{if(b||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||E.test(f)||L.test(f)||$.test(f))break;d+=`
`+h}!b&&!h.trim()&&(b=!0),c+=H+`
`,e=e.substring(H.length+1),f=X.slice(v)}}o.loose||(i?o.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(i=!0));let R=null,V;this.options.gfm&&(R=this.rules.other.listIsTask.exec(d),R&&(V=R[0]!=="[ ] ",d=d.replace(this.rules.other.listReplaceTask,""))),o.items.push({type:"list_item",raw:c,task:!!R,checked:V,loose:!1,text:d,tokens:[]}),o.raw+=c}const a=o.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){const c=o.items[l].tokens.filter(f=>f.type==="space"),d=c.length>0&&c.some(f=>this.rules.other.anyLine.test(f.raw));o.loose=d}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(e){const t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:o}}}table(e){var i;const t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;const n=en(t[1]),r=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),o=(i=t[3])!=null&&i.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===r.length){for(const a of r)this.rules.other.tableAlignRight.test(a)?s.align.push("right"):this.rules.other.tableAlignCenter.test(a)?s.align.push("center"):this.rules.other.tableAlignLeft.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<n.length;a++)s.header.push({text:n[a],tokens:this.lexer.inline(n[a]),header:!0,align:s.align[a]});for(const a of o)s.rows.push(en(a,s.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[c]})));return s}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;const s=ge(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{const s=Ya(t[2],"()");if(s===-2)return;if(s>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],o="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(r);s&&(r=s[1],o=s[3])}else o=t[3]?t[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),tn(t,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){const r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),o=t[r.toLowerCase()];if(!o){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return tn(n,o,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!n||this.rules.inline.punctuation.exec(n)){const s=[...r[0]].length-1;let i,a,l=s,c=0;const d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,t=t.slice(-1*e.length+s);(r=d.exec(t))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(a=[...i].length,r[3]||r[4]){l+=a;continue}else if((r[5]||r[6])&&s%3&&!((s+a)%3)){c+=a;continue}if(l-=a,l>0)continue;a=Math.min(a,a+l+c);const f=[...r[0]][0].length,h=e.slice(0,s+r.index+f+a);if(Math.min(s,a)%2){const v=h.slice(1,-1);return{type:"em",raw:h,text:v,tokens:this.lexer.inlineTokens(v)}}const b=h.slice(2,-2);return{type:"strong",raw:h,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(n),o=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&o&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){const t=this.rules.inline.autolink.exec(e);if(t){let n,r;return t[2]==="@"?(n=t[1],r="mailto:"+n):(n=t[1],r=n),{type:"link",raw:t[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(e){var n;let t;if(t=this.rules.inline.url.exec(e)){let r,o;if(t[2]==="@")r=t[0],o="mailto:"+r;else{let s;do s=t[0],t[0]=((n=this.rules.inline._backpedal.exec(t[0]))==null?void 0:n[0])??"";while(s!==t[0]);r=t[0],t[1]==="www."?o="http://"+t[0]:o=t[0]}return{type:"link",raw:t[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e){const t=this.rules.inline.text.exec(e);if(t){const n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},W=class it{constructor(t){_(this,"tokens");_(this,"options");_(this,"state");_(this,"tokenizer");_(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||le,this.options.tokenizer=this.options.tokenizer||new Fe,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={other:B,block:Pe.normal,inline:fe.normal};this.options.pedantic?(n.block=Pe.pedantic,n.inline=fe.pedantic):this.options.gfm&&(n.block=Pe.gfm,this.options.breaks?n.inline=fe.breaks:n.inline=fe.gfm),this.tokenizer.rules=n}static get rules(){return{block:Pe,inline:fe}}static lex(t,n){return new it(n).lex(t)}static lexInline(t,n){return new it(n).inlineTokens(t)}lex(t){t=t.replace(B.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],r=!1){var o,s,i;for(this.options.pedantic&&(t=t.replace(B.tabCharGlobal,"    ").replace(B.spaceLine,""));t;){let a;if((s=(o=this.options.extensions)==null?void 0:o.block)!=null&&s.some(c=>(a=c.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.space(t)){t=t.substring(a.raw.length);const c=n.at(-1);a.raw.length===1&&c!==void 0?c.raw+=`
`:n.push(a);continue}if(a=this.tokenizer.code(t)){t=t.substring(a.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(a=this.tokenizer.fences(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.heading(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.hr(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.blockquote(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.list(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.html(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.def(t)){t=t.substring(a.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="paragraph"||(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.raw,this.inlineQueue.at(-1).src=c.text):this.tokens.links[a.tag]||(this.tokens.links[a.tag]={href:a.href,title:a.title});continue}if(a=this.tokenizer.table(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.lheading(t)){t=t.substring(a.raw.length),n.push(a);continue}let l=t;if((i=this.options.extensions)!=null&&i.startBlock){let c=1/0;const d=t.slice(1);let f;this.options.extensions.startBlock.forEach(h=>{f=h.call({lexer:this},d),typeof f=="number"&&f>=0&&(c=Math.min(c,f))}),c<1/0&&c>=0&&(l=t.substring(0,c+1))}if(this.state.top&&(a=this.tokenizer.paragraph(l))){const c=n.at(-1);r&&(c==null?void 0:c.type)==="paragraph"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a),r=l.length!==t.length,t=t.substring(a.raw.length);continue}if(a=this.tokenizer.text(t)){t=t.substring(a.raw.length);const c=n.at(-1);(c==null?void 0:c.type)==="text"?(c.raw+=`
`+a.raw,c.text+=`
`+a.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=c.text):n.push(a);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){var a,l,c;let r=t,o=null;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)d.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,o.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(o=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,i="";for(;t;){s||(i=""),s=!1;let d;if((l=(a=this.options.extensions)==null?void 0:a.inline)!=null&&l.some(h=>(d=h.call({lexer:this},t,n))?(t=t.substring(d.raw.length),n.push(d),!0):!1))continue;if(d=this.tokenizer.escape(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.tag(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.link(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(d.raw.length);const h=n.at(-1);d.type==="text"&&(h==null?void 0:h.type)==="text"?(h.raw+=d.raw,h.text+=d.text):n.push(d);continue}if(d=this.tokenizer.emStrong(t,r,i)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.codespan(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.br(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.del(t)){t=t.substring(d.raw.length),n.push(d);continue}if(d=this.tokenizer.autolink(t)){t=t.substring(d.raw.length),n.push(d);continue}if(!this.state.inLink&&(d=this.tokenizer.url(t))){t=t.substring(d.raw.length),n.push(d);continue}let f=t;if((c=this.options.extensions)!=null&&c.startInline){let h=1/0;const b=t.slice(1);let v;this.options.extensions.startInline.forEach(R=>{v=R.call({lexer:this},b),typeof v=="number"&&v>=0&&(h=Math.min(h,v))}),h<1/0&&h>=0&&(f=t.substring(0,h+1))}if(d=this.tokenizer.inlineText(f)){t=t.substring(d.raw.length),d.raw.slice(-1)!=="_"&&(i=d.raw.slice(-1)),s=!0;const h=n.at(-1);(h==null?void 0:h.type)==="text"?(h.raw+=d.raw,h.text+=d.text):n.push(d);continue}if(t){const h="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(h);break}else throw new Error(h)}}return n}},Me=class{constructor(e){_(this,"options");_(this,"parser");this.options=e||le}space(e){return""}code({text:e,lang:t,escaped:n}){var s;const r=(s=(t||"").match(B.notSpaceStart))==null?void 0:s[0],o=e.replace(B.endingNewline,"")+`
`;return r?'<pre><code class="language-'+K(r)+'">'+(n?o:K(o,!0))+`</code></pre>
`:"<pre><code>"+(n?o:K(o,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){const t=e.ordered,n=e.start;let r="";for(let i=0;i<e.items.length;i++){const a=e.items[i];r+=this.listitem(a)}const o=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+o+s+`>
`+r+"</"+o+`>
`}listitem(e){var n;let t="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?((n=e.tokens[0])==null?void 0:n.type)==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+K(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" ",escaped:!0}):t+=r+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let o=0;o<e.header.length;o++)n+=this.tablecell(e.header[o]);t+=this.tablerow({text:n});let r="";for(let o=0;o<e.rows.length;o++){const s=e.rows[o];n="";for(let i=0;i<s.length;i++)n+=this.tablecell(s[i]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+r+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${K(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){const r=this.parser.parseInline(n),o=Xt(e);if(o===null)return r;e=o;let s='<a href="'+e+'"';return t&&(s+=' title="'+K(t)+'"'),s+=">"+r+"</a>",s}image({href:e,title:t,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));const o=Xt(e);if(o===null)return K(n);e=o;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${K(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:K(e.text)}},Et=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},J=class at{constructor(t){_(this,"options");_(this,"renderer");_(this,"textRenderer");this.options=t||le,this.options.renderer=this.options.renderer||new Me,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new Et}static parse(t,n){return new at(n).parse(t)}static parseInline(t,n){return new at(n).parseInline(t)}parse(t,n=!0){var o,s;let r="";for(let i=0;i<t.length;i++){const a=t[i];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[a.type]){const c=a,d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(c.type)){r+=d||"";continue}}const l=a;switch(l.type){case"space":{r+=this.renderer.space(l);continue}case"hr":{r+=this.renderer.hr(l);continue}case"heading":{r+=this.renderer.heading(l);continue}case"code":{r+=this.renderer.code(l);continue}case"table":{r+=this.renderer.table(l);continue}case"blockquote":{r+=this.renderer.blockquote(l);continue}case"list":{r+=this.renderer.list(l);continue}case"html":{r+=this.renderer.html(l);continue}case"paragraph":{r+=this.renderer.paragraph(l);continue}case"text":{let c=l,d=this.renderer.text(c);for(;i+1<t.length&&t[i+1].type==="text";)c=t[++i],d+=`
`+this.renderer.text(c);n?r+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):r+=d;continue}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}parseInline(t,n=this.renderer){var o,s;let r="";for(let i=0;i<t.length;i++){const a=t[i];if((s=(o=this.options.extensions)==null?void 0:o.renderers)!=null&&s[a.type]){const c=this.options.extensions.renderers[a.type].call({parser:this},a);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=c||"";continue}}const l=a;switch(l.type){case"escape":{r+=n.text(l);break}case"html":{r+=n.html(l);break}case"link":{r+=n.link(l);break}case"image":{r+=n.image(l);break}case"strong":{r+=n.strong(l);break}case"em":{r+=n.em(l);break}case"codespan":{r+=n.codespan(l);break}case"br":{r+=n.br(l);break}case"del":{r+=n.del(l);break}case"text":{r+=n.text(l);break}default:{const c='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Xe,Le=(Xe=class{constructor(e){_(this,"options");_(this,"block");this.options=e||le}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?W.lex:W.lexInline}provideParser(){return this.block?J.parse:J.parseInline}},_(Xe,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Xe),Hn=class{constructor(...e){_(this,"defaults",vt());_(this,"options",this.setOptions);_(this,"parse",this.parseMarkdown(!0));_(this,"parseInline",this.parseMarkdown(!1));_(this,"Parser",J);_(this,"Renderer",Me);_(this,"TextRenderer",Et);_(this,"Lexer",W);_(this,"Tokenizer",Fe);_(this,"Hooks",Le);this.use(...e)}walkTokens(e,t){var r,o;let n=[];for(const s of e)switch(n=n.concat(t.call(this,s)),s.type){case"table":{const i=s;for(const a of i.header)n=n.concat(this.walkTokens(a.tokens,t));for(const a of i.rows)for(const l of a)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{const i=s;n=n.concat(this.walkTokens(i.items,t));break}default:{const i=s;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{const l=i[a].flat(1/0);n=n.concat(this.walkTokens(l,t))}):i.tokens&&(n=n.concat(this.walkTokens(i.tokens,t)))}}return n}use(...e){const t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{const r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=t.renderers[o.name];s?t.renderers[o.name]=function(...i){let a=o.renderer.apply(this,i);return a===!1&&(a=s.apply(this,i)),a}:t.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=t[o.level];s?s.unshift(o.tokenizer):t[o.level]=[o.tokenizer],o.start&&(o.level==="block"?t.startBlock?t.startBlock.push(o.start):t.startBlock=[o.start]:o.level==="inline"&&(t.startInline?t.startInline.push(o.start):t.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(t.childTokens[o.name]=o.childTokens)}),r.extensions=t),n.renderer){const o=this.defaults.renderer||new Me(this.defaults);for(const s in n.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const i=s,a=n.renderer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return d===!1&&(d=l.apply(o,c)),d||""}}r.renderer=o}if(n.tokenizer){const o=this.defaults.tokenizer||new Fe(this.defaults);for(const s in n.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const i=s,a=n.tokenizer[i],l=o[i];o[i]=(...c)=>{let d=a.apply(o,c);return d===!1&&(d=l.apply(o,c)),d}}r.tokenizer=o}if(n.hooks){const o=this.defaults.hooks||new Le;for(const s in n.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const i=s,a=n.hooks[i],l=o[i];Le.passThroughHooks.has(s)?o[i]=c=>{if(this.defaults.async)return Promise.resolve(a.call(o,c)).then(f=>l.call(o,f));const d=a.call(o,c);return l.call(o,d)}:o[i]=(...c)=>{let d=a.apply(o,c);return d===!1&&(d=l.apply(o,c)),d}}r.hooks=o}if(n.walkTokens){const o=this.defaults.walkTokens,s=n.walkTokens;r.walkTokens=function(i){let a=[];return a.push(s.call(this,i)),o&&(a=a.concat(o.call(this,i))),a}}this.defaults={...this.defaults,...r}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return W.lex(e,t??this.defaults)}parser(e,t){return J.parse(e,t??this.defaults)}parseMarkdown(e){return(n,r)=>{const o={...r},s={...this.defaults,...o},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&o.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof n>"u"||n===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof n!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=e);const a=s.hooks?s.hooks.provideLexer():e?W.lex:W.lexInline,l=s.hooks?s.hooks.provideParser():e?J.parse:J.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then(c=>a(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(i);try{s.hooks&&(n=s.hooks.preprocess(n));let c=a(n,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let d=l(c,s);return s.hooks&&(d=s.hooks.postprocess(d)),d}catch(c){return i(c)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const r="<p>An error occurred:</p><pre>"+K(n.message+"",!0)+"</pre>";return t?Promise.resolve(r):r}if(t)return Promise.reject(n);throw n}}},ie=new Hn;function z(e,t){return ie.parse(e,t)}z.options=z.setOptions=function(e){return ie.setOptions(e),z.defaults=ie.defaults,Fn(z.defaults),z};z.getDefaults=vt;z.defaults=le;z.use=function(...e){return ie.use(...e),z.defaults=ie.defaults,Fn(z.defaults),z};z.walkTokens=function(e,t){return ie.walkTokens(e,t)};z.parseInline=ie.parseInline;z.Parser=J;z.parser=J.parse;z.Renderer=Me;z.TextRenderer=Et;z.Lexer=W;z.lexer=W.lex;z.Tokenizer=Fe;z.Hooks=Le;z.parse=z;z.options;z.setOptions;z.use;z.walkTokens;z.parseInline;J.parse;W.lex;const nn=new Hn({renderer:{html(e){return e.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/,"&quot;")}}}),_e=(e,t)=>Xa((t!=null&&t.inline?nn.parseInline:nn.parse)(e,{breaks:!0})),Xa=e=>e.replace(/:([a-zA-Z]+):/gi,(t,n)=>n in rn?`<img src=${rn[n]} style="vertical-align: middle;" />`:`:${n}:`),rn={yuhhuh:"data:image/webp;base64,UklGRhoDAABXRUJQVlA4TA0DAAAvFwAFEM8GKZIkR5JH9Sr+mJbOfvf0FQ3YkSQ5qqq60cpn3OQfAzRP7kKKJMmR5FG9ij+mpbPfPX0FObJt1cra975ruLtE4KEQAAGSBwH80Z/h7i7PTgAgEAgEDgQRKsjgIIHAgyCAAw+CAAkyBKjAg0AwDYUqGAGZHBXTOPhsUJqkRQhwsGNPzvoMSxORQUUO8nRcraU0nUD1dDazp9oyzO3c8V2vu4zLDdzu/zKrWa0tR13NomEJ6v9+/zz8P06PCdN06Y3KdGoRS4BlgUoksh07elYH+C/V4r80Fv1RgGCKNTJKwB90FCFkwD+lDEGGoa7FDFFnRo/Z2izGSNMB6ijWUGTACkwOE9cdlCDO6ryUJkrVLAZiMlbSLMcyEQRRYhzIzuooQnCWBwIaCvu/57f97bm2XyMjI0NARJhQZBAZgrM6ZAgmAzEdTg+bZTpWkiAjQ5AxHQTToUQGkXHWB0GEICMzEhFBEEQEAT25CDBoTWH/lx3bP8/Prff7/dWr9f/+H74ur/K+vY8+r593n+/P7517DAmybZu2sx6/bdu2bdu2Ytv+L7Zt29bJesmN1Z6nLkT0fwJgpEvj2hx7mKpQAv5X+LjVyRgPCyAmErCaRV5LNEKdFQBZdYUcslKJokNlyGlDokwx0qaGrFhL7v1ryOtkblzZlgN5QJUgRY2lTF/I9VvvPoovf2BWT5K3Ztam+pgD+Pnp8M2Lt5ks89zOZ6c373vDN6fq3OG2moISpSJ59svTzdOXe468Jt+3OKRferF1YkjDBW6DD8fekZc2rhDk+kA7v1/f3pK8u7L74B4a3h0OZO6n7svRaxnr7n7UdycCkE0Kkg+Ozr+36sKKnjlLNCSfxAOyTpJ8/D/t6mKSTx89J8kuAIUSSQ44V+Yv2nHlq5aCH9gHyBLe6Rz3tp57//i64fGpGcOH3hQACLtPaj+/SlI3vCEpSZLE1ykAPH5/X/pj2fJ/sqCms4J6n0fDaMfyhb3ztp05f27XjVDjYBO76diJnZrp2+22JkDu6htV0r9mdjAAAA==",nuhhuh:"data:image/webp;base64,UklGRkADAABXRUJQVlA4TDMDAAAvFwAFEPcGK5Ik20pWn3sv769rgsC/MAQQrA1IkSQ5kjyqV32Xgb7jcfzJ3Fs15EiSFEkRmb28KwYc6y/NyXBPvoJa27ZqZ51z7v3M/0tUP0wuNi1RE/GpisExWma4EAAICAgYCCiUwUMFDAQEHCgIKCg4MChAHQwqoCDgoA41cFDAADlk8VhpxCaUN23ERiWVGTwWyxjdiq+MN+suePJ9TcZyavXh7P/D6+D2//o8fazTx/nZ/K9INZ/9fwYR/s4ezv6Tw8br8fi5SXHVKk4YVG6zfSyKq4PKp+3LJgWmcrB7m80sKPTK1+S/rIFt8oVlBNKyhIgfyLFcAWPms9qIiG/GkoIgYROSh9va9DGvhsILplQ4/e7+/f5/vp8vbZy3seOfVUo2DdGV4OHVWmlklWtt8oogSyoklCDXLCCviOCaDRWuKddsQukSNCSsUCGyVSq0Q0nktraUrHLM7TUdEQLX2lJDlcgqgshaRAQMJbMo2SxKCq42lGhISKhQoQCJIIIIhug0RJASJCKIIBrg4357X//9/vDf75do/j5eL/v/76+ugVRmViY/n29bz9N99+u6uWhvVp/n6w4kbNt2/umA7tm2bdu27fq33HIt27Yx5jF7ueb3/mXXl/kzov8TADW17bwC02VblnpDTZPg3ZcuHzt44G69KWCpD/j6yFkVrpqxbG9Hd9exAT/oRLhCKz9XG8D3kg5BhS+DYLE+BFqyKl1At3SMpCRJEsdi4HQ22z2g/X8SYLT8QdeuefPbFs++MJ4Kj1tn+kanP/6BcUHKykNXRwWFmGAr/r3vHO69zWit+JvtJF89e0tSNJmv4ZvJKSFlaq29v/H65tYlq/eTfBIe90ic2dZ2QMw1qOyL3To4ToXDP53Dtg/1v5PYW9187gSVn/wF/L1C+ckNDxdNkjf2bRLkjh+A1kJB8vXTOaMXa472zTz9gpxusAa0ZCR5J7nsCEfO7zz8gRM9tY4AkCeRFEVmFYLkvRV1WZ6GkI+cIsnjDsWCFOUmulpQ7P9Y7nloDslTCVDRZd2Xb18/ff6dIVE06qqilwiFC8jBKGjQ7RpHZtlqwr5lT5oNlAMA",me:"data:image/webp;base64,UklGRmQEAABXRUJQVlA4TFcEAAAvF8AFAE2oaduAxeq1G9H/IHty6IJM2qbX/Ase0UE0gvED2H9EUXKSICBJ/L85ov/RAbwK2JriIUmybdO21sbBtZ5tG6VvduP38Mcrfdus2ffZOLx3c3VDYiRJiiRFVnXPHKOqZy8A84vKPNtVKTeSJEeSMrKqZ3aXfP0lwYB6cRD1sz2VEbcffjsOCCvQ0brlhHbclgMciHDKHCxFZWLWqXtn19Wfr9zPD5XjVTvfme3fl3n7Ctdiqkzj6/DWcgAwAhBiE4wAFNPaQWvbVL2HNvc+/k0Wh8vRn0fF2hmPw5lKTcammINn+23qBjWliI0qRH/DjzOxNSBxAzUFZnSOQqVF2Ycpvm8I5BjXQsUiR84YZIFLqt4494ZEUkv1lUmIpFhjiI/yJIpVxqZ7XfVPMLPXvK1+XPl8sNb5UDyHrx65grvtusttUuLALQeDeBrPPHfNh9/Ls+vVr4LP7kPz194tR91pZn8UC+Wctt6dXIJhLYYBIwKprkc0GemDS4fcXkxquUsy0W2rOQtRVAi5TudwkHXcyBYBIMQCTJuBeQ3G/3IBmWBupvcx7R5phhkphFwRtJdX4kQA/PdmPP5IKLIWoQ1Soi0ntk90tbkLyjerAI20bQdUpzcblqrLfVulWZLT0CSRAE91uYIBs7QwYbR2j9FUU0VhF7f2FVb1jJwuUXKrq6nZmcWxFJVI3UyVK2HPITIroZy266V9qMjazp5GRA3XO5nL0gVyzn0c89397s/hO86mw/J83yWZYKbiyGglS81CJ1Rut0+XD3TA7NV55Xq8U/rk3Zg3f0efknue6pQbPo8pamQkWBfz6Ki4Wy2l020bwe8V/Jb39FG++TJzLvfkatpnv85H9wtGpjJWZ2tFzYJUoxUR4la2sOVNPDd8esQ7J3z20+Ndf/urerbOHSmlusgw+/KeS+0c7oecVDJEi7hBwrArBv4/ajknaLel9up9/2Xq85fcBeXvdZ2GMY2c9hKaU+RklU787rsljRYQ1kYPmCFeI3qauHOq7oPFwzePnjn1uYU8W/uXvXsOLvFiKymYluWfc1oDSCthZd5gWIQWfpukOvfYTcXGQyxKSeuXs3nLVt0DX8Z2itFVC9B2nne0ZsJdyLpkNpokp1bqHa305DQ1OC2FlBqp7+d1JMrfbHiXg7yJ0127TqhHpYrMZQaafebSY7XW8BZQSlGSChJ1GDkOzqrypSyCrayOxigMspORPXGVtTmBWEnMYWooD4mtjLZkmtCUVcgYgUVbpNnA9JxopHAdQMURa6GKpjLiJ24PlwBAo6ajkVQZkJCUUuyuYNuZW7h0F5nLcflAhRHMI+JIpH3WkMZlrFqCQkIxkLaaRoFinDXpufYlFGgbsrGiI05j4mRrR9nPVBNna9AiigIlKY8CRAJH4Kn38/pxpUAwm6YRDmr5FTXaeKs8UpfYeXx4Ya9xQQINFsWOAWnHaEvz+hy7jzuaDjPpYJXEAA==",keeneThumbsUp:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAAF0ElEQVRIx42UaWxUVRiG33Punbmz3s5Mp51Oh7YDXaEVKFa2ULURZREKVVkE0RJQo3GLYIxGATEYjRoxQROIJC4UJMEGiFRRgYpAbaEUkdZpoS3QhQ6drTPtLMy99/hjbDWC0u/XyZeT57zn/RaC/4kPN2+yS7JSqE9OPSLHpNRQwJtMBXXf6xve9GEUwf87sbZytfrusvukArtho9NuW1N/ru25bGfqIZNBdz8A8vvFzvqH5s97sbrmuzO3g9N/Jzxe38oUPR4uyMnaMBCJDd05Ke/jDId9Xpfbw7d2dg04M+xXnnr8UXE0ym+CT5lYwNut5i0c5WBLMeUZRV2mQggm5GfjruI7LBazecnkwpzDh/dVrRuVLTu3bS1tbnH15RZN6Zg8zvpIdoY9l0EBIQQgAEcIAIK2ji7p0JG6FaGBgV+jsahyOzh5/+1NZU88MudHKa5E+33BQw67dYlGUBNZVsAAcBwFAUHn1W64r3uVy93u6WtfWn96VAWdVOB8FAycKBr0omhcygD0e31oaW5FVqYDTmcGGCFIT7NBkSSqyPIrAJaOBs5VzJ9TluFInXGxoxtmswhKKXiOh06gaDjXAq2Kg+t8E1znm/BD3Tksr5iXs6R8QShrXFHn0dqjQ/8LT7GN+SMny1FhMYkmnqOglEPjyaM4e7wGO3YfQIYwgMD1Lvi8HjR1uDG9pJhPS0meG78R1lU++fT3u6p2s/+ENzQ2Dlzu9TVkptse02gEPjI0CFddDTieQrA4UDZ3AaaUzoHJ7sT5+hOoP1mH7Pw8eLzBcV/s2fvJH67W+H8WdPiwbetH9nFp5l8nTsjJPFazHyUz74HOYITFbAIoBVMUuK/3Q63iYbVY8Pmeg01TZpWVzCidpdy2z4eCIWl8btYYk2jEouWrMCYzExyvQvc1N8AYKKGw29JAKI/Oq70oKZ64c0bpLOXn3r4RxhlvkLslPCbJQ3UNv/kT3yEABZKSDFBxPM6cakDrud/x1Zd7oMTjCAaDPQd+qK0CABU4DQCc9QSpRKjzlvANm98K+waGPvb4/IkCKQxgQJotBUatFpGuKyAqAXqdFls/q3onGAqQZ1YuLiGSHDt9zUcbD+zT7t/8Gr2l5wCwfft28nXVrpdXlc/+oOzeUpjNZnT19MFkMCAUCoLnKVztV3qONbXlE/eFtyeMMb7U7pFfkxhO2fWsOibBNHXxs9r75s6RboIDwAvl5Sus+mCVLc2KCBPQfOkqDp25GCzKy/1U5nj/YPRGdX3dyUuPLXpwYVme9qDMgKjMAiatyhSOSuj2xw9cjurX7tqz23PTyi0J9K3JCzH09wwiYBAwSdRCKS6sfWBZ5evLKleN9HRu0eTvPd4LnenJmrFaBhMjDHoNj1SjvMgVCL8DwDPi0avr14mV5bPfUHLTiq+recT0apgGoyhxh/B4ZGhhtPbwwn+K2LhlS7xfMlYMRiQJIAAhYASQFQVXOztKRrbihaZG8t6mN96dkZP0FBF4zm/LBAXQE4qiORiGKc6IezByk4U6Gi7Ta1Q8I38X0CpqMLvIts1qn3+SA4C21racaWN126yiRksSjQhCCLRqFTzhG2CMgbR33z2pYEJ4/hOrzx6rPcYqF9//8Hi7sEPN8xQEAAMISzzRctkdD0jqDzkAqJg1fkdeurGYAIjckKAoBBxN7PIkvYD2850olJiRRmJzXTJ2js8fO/WuTOGbJJ2gZsOSWWI+PMEwfnINvHv8xIlqumrFytQUPV2ERFtDp+YRGIz9PQiUwHGHE1em5bamPf+C3u/rtU3P4KstBo0w4oXCADDITEbthd7mrLE5WwCADvl6C5ONWh4scZFRIFnUoD8Q+UsNkGLSw+sP45cjNekzc001FoMgJnDDYECSFZxovtautmUv3LdvbwQA+FRzkp+AgQ1LJwQ8lzjG4goENQUoUOAQ8yNxdjpJq7UyMICQkTns9w/ieIv7WyY6Vh/cu9cz/Os/AW4xVVNqERlrAAAAAElFTkSuQmCC",goobert:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAYCAYAAAARfGZ1AAADJUlEQVRIx7WVS2gTURSGv5lJJpOkTaahRtukjdUKKo1VFPGBrU+KiGYlLlwIBUFEBJciFC0IrlQUdSMBFyIiKhWK1Kr4QCqKIJa22oda7cNG21pK01eScWESJ8mkVsULw9w55z/fnXvmnjMC8eEPBgKA1Fxdd4t/GP5gYCtwEjALOuMDYD1Q1lxd1/kXUAG4CBxI2ESd/xtgAS7/BdgO1OvBwIge7o7fK/3BwJE/AM8BGoHtaa4uMUvMSX8wsHoW4GXAE2Ctgbs1G9wK3PAHA64ZwOXxN16cRfLJlC3YXjanmKh20x8MDAI74+bPQDfwHagA8mfY2Es9fDoxMTksOFcVMPllbONY2zd9wML4BUDeJh/h9iEme0eN4IP6tAwlJjnlbhAETKol62spPifW+SquLSVYvLlGknE9vA9AcshYF+QBIFnNyPPsP+e5MvP2lpG/oxTRImFd+FMjSAJ5G4oRlZQMTwGvTVVaTUlkZKI83DF8KDIygey2I4jJ2sK2yMV0KIxrawmiLCG77eRV+pDs5qRGVEyoG4oYavyQML1orq6LmICgyalsdKwqMNy+pSAHtaIYs6r8snly0WJaapq8DubuWcro6wEEUWhKr1DDIdllrCVqhl2/u6TWZkZd58W5xrMvAe9OF02Gxvj68P2sy3+0NUToXko7cldpNctF4FG6ODYZYWowPGu4ZJeR823p5sUmoCOjPIuceIqcs4bbfCo2X0bqVohAMf9nLBWBS/9CGO8ZAc3QFRGBHCOPFo3Rd7OFaDjZFQg1dtJz7U3yOTo+zRPfOcY+DBshHojAQWA886wJdJ5+xlDTp1/N4ulH+uva0KIxtEiM/jtvydnixepxpEcPA1ekrhOPX5Uer5SBylS2gFKYS+uxRtSVHvput9B9volw0wBWfz6915vpOvaQldf3oBRm9JazDULt3URDOAPsBpakHNZtpUQnIrQcbcCsKqy5X83UYJhXu65SWruZineHUQoywPXAcYBkmVVpNS4gCAR+9xG1mGZUob3AKeBCg1CrpcB1iywD9sd/XXMBb5Y12oF+4DlQ3yDUPk0X/ACAdeImFWeVsQAAAABJRU5ErkJggg==",theProfilePictureThatNoodlesUsedOnTheTwentyFirstOfMarchTwentyTwentyFive:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAFR0lEQVRIxz2W2W4dxxGGv6rpORt56CNRJC1SlhxHEWQgughyFyBXeau8QN4hD5QFsBM4CIzIgSTGjqjF3A8PZ6a7qyoXw7iBvq3+q+pfWn7/hz+Gh6INmAUiiZRaVMDNCCC1LW4OAhKGlUItG3zoiQgIwyIAQbXBPYhwPJyUcw8RRECTWpp2gpthGAQ02kA4VntUBauFsIoQqDZUK4go4RV3w8wwqwSBWyURjmpDIADkvGaS5ogaSgteKX2PBHiuiAQSTq2GeUUliDvEqoqHE2G4OeFOijBKqQgN7WSC10wNUA3CBgCkERTFomI1Y3UgAnIeeHfyA4eHR5g7AUQIIY6IgwapDBlVATG8QhJoJPCh5+uv/srBw0MePXpCAGYDZegIr6w3G/7xzd84eriPcEC4A0J4kGuBqIQHSd1QFACzjvCCNxMs93x894qX337Fs+cv2N3dZ3u5zfXlOR8/vuPk7festqbs7X1JNcc9gMDcwA2IcUS59IgICtQykFIiLKg1s7Ozw/v3J3zz978QAaKJRgMi2F0u+HTvCK9O7jtEFat+Vzhwr0QEKfe3aKMQICKIJlSFplHu3b/PfJ7oup6txQLLmUaVRhv2dhbM5jNO3p4w316yXG6j2kAI7o6FE15J/18OCIIRBDUMEbg4P2c6nTGbzti9d4/Ls1MaVWwYePvxlAElJkvefP+G/f0Djo4ek5p2pGs4EkbKeUAIUkooYDWDG2XoGMrAcnvJr3/5lIvzazaXZ+zu7tHf3nB+cU4bha3VCprEer3m9PSMvb1daq24VZAglZJJjVCGgoqOmggjDx0TDdJUef6zI86Xc7y/4vXbMx7v32M5VdJkwrNnX/Dh4oqv//wnLpuGra0FKopHBYIUtWAuo+QBrxVU8DrwYHfJQhtuu4Fnjx/z5tUxTx7u8uIXPycJzHaWHD75nJPLzOvvvqPvOzbdLbPpglIrYZnkbkSMKlZVhlpIKYG0PNg/5PDBNtuzOY02/O63v2E2nbLpbulzZrVasT1TPv90xc72nH6zpu862ibhNlpNijsfUlXcnZ+OBNWVi/WG2x9P2WwvePToiK5k1l3P1mKOqOJuaFNRgloytVTMKhagAilUCNfRW8pA27aoKmGVda7cboz/vPyW5198xgD0ZSA1Ddoq85hTcqaS6bqeWjNdt2G+mI01aEjhipvhlgGICPq+x6sRAsvljM+ePmVTbnn97gPb8ylbsynVnG4YqO4MtdJ1GyaTltKvKXnJbDpFqKQI8AgMUKCUgpkxji64vMzcX02QNkYnlZEQN7e3NE1iYs75xRWb2xtWO5/w9sMpuyKYg4iTShnGwCgFU8FyJSQgxm5ydi6lcnBvwTQJs3lLK83YQd9TauX4v2959PCAk/en7O7tIyJYOISRrOQxXHwsKipYtTGRzKnu5AuDMFbLGebOYtKSayXnDAj//NcrZospO6sVkraIELwMRDiplEKEExGYGe5jcIiMo3MzzIOzy47qzlqdtlFmk8SkbchDwcJxg5ubG+Y7E/RuvBE+6mCMOkdEQASRO8Myx8yoZgx9YbmdaKctN+s1b47PONh/gFWn6wqXZ1e00zlplklt4O6IKGpef+K/u+NmlFLubh4ztlZqKayvrlntbHGw+wkewvHxCdfXazbrNR5BqWUEVscHcs6kcH5COyKvgFJrHXNCdbRxgaurK84urjj54QREWK2WnH38EYFxqe6UXGgWU6w6Vp10u7keRXGXpXGHQERwDHz8zpgN9N3Ay38f8/79R3714ktqzvT9MFJXwMUYco+oEoC78T9Eot2w1W2OkwAAAABJRU5ErkJggg==",true:"data:text/image;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAYCAYAAAAcYhYyAAAEKElEQVQ4y52US28TVxiGnznnzMUez0wcx3YuTkJJUqCqilAWvWwqyqJbflJ/B9v+g7JErEjUsAFV0JRagVIUEpqQi8exx57L+boIlSq1m/bdfZtHj169+pxeHJx0I5/1pZBuQ6HcOrXWAq6rePX2gNLRvDs64+tb11lY6vHzqzfc/PQ63969S721jtb1kbPSjKTuGpqRoSotpXJphAEzNU02HeJ7PoilPZvguR6TLKPeCFlc6VGvxSx/vDk0FZo0r1BTl8/Xemz3Dzgdjzj2DDeWPRoNhWs8fFVhzIRGI8DVJb04ptQ5Ro0xlbUgQjYtWem2uDYf8+LdKacXExq+T9OtqPkejUaIqxWhF3Clt4GJI/YO+pQVGBEBsYyyKS/23/PFWodvbq6DA1FS4/zoiCSOac+3qQqLLYVgZo4fn+8yKsfk8RgFYEWobMWv+4cMpiXKq7PcW8RTMJM06HZnSZIE5QXg+Ry+P+Wn568pMpdes3VpIiJYEebjOifvT9nafc3tzRusd2PsZEplhcNBzvc/bHO1nbC22mMMRM0OYRRhrLWICI4IzTDgo6UOmdK8ebPPnLeAx5Q0HfLH+QmdpMbqwhxx4LC+soQxPiKCDlzznYgAsBB5NI3lWq+DcYTB+Tmd1izj9BwlORuLswROgXY9nEaTysLYmlyJWEQue0mzkkEuHB6fYrQC65KPC4oMFpaW8HyXWpwgyiWo1anKCWVZYESADyZvhxM+0T5eGBE2fLoLEcev3vLZl7dYutohG6WYIOL33/b5ZXcPHMXagkI5XMYYjVWazAqlaPLKwTqKqNvFak1WggpmyEYTctF4vs9RmqM8H3OJEKy1+MqhGYc0O7PYquJilON7LqdnQ0xgaIQGJUI6GLN/POQih8ryFwQcHJZaDZxiiqsUcRKR5wVGK6LIx3MVNT9kMp6SD1PmPAg1hEHtw2IBBQRiqRuDU1oCY0hCH20cXGPQypCNMk6OjmmGipsm4Ox0QG16jgFBBJRWKK3IxmMu0iEzSQPPCBbFpBQu0pzJ4IxpNsLzDPXAJ3UsLoL56vYdALR2uNKKuNqOUWLJxGUytoitmOYFnnGxTsTY0YRoqCymuUIQJTj9fl8uOwFXK3yjcRwQK1RisVZQysEohQhU1qKcy1WICH4QDB35q5T/n6F59uwZaZri+z6rq6u02+3/TFHNZpOdnR2SJOHw8JCtrS22t7d5+fIlRVHQ7/fJsowHDx7w+PFj/k1cLS4u0mq1WF5e5vj4mDRNmZ+fZ29vj7Is2d3d5eHDhxRFwZMnTzg4OPgHxPz9cByHzc1NtNbkeU5RFGRZRlmWDAYDNjY20FozGo0QEZRSlGV5+dniOEYpRa1WQ2tNvV7n7OyMe/fuEQQBd+7cIc9z+v0+VVWxs7PDo0ePePr0Kffv3+dPYdjuR5z1840AAAAASUVORK5CYII=",whar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAF0klEQVRIiT2Wy28cSR3HP/Xo53TP2ONHnMTJxmETIhQhkBB7QZz5C/gHuPOP8Ddw58oBcYXbHlgOAZKgBCW7tje2J+N5T093dVWhKiMOLbXU3b/H91Ut/vC73/rNeoH0PRrJfD7jzZsLkjSjMR31eEhVFlgHWll6nzAcFKSFpkwUzjumszW+7TiqB4Dh6YvHWAEg0HiHkuCMxUpPlqc8fXKM95bbRUNV5NwuGx49OOTT9Jr57Jby9Igiqfl4NcPuGqztOTuuyEVLPigRQiLweO+R3lmUDB0cwkGWFJTDAfNVi1Ep5agk9S2paqgSxfF+gfIdde4Q7YqvfvqMukiwxqETFTd2Lowfmgi0c+FW4mNPB8LjvGW2bfnrq3dkRcmPT0qOxjXe94xHJavZkjYVTGYbfv/HrzkZDdh7MiAf1iRpiguThibCo8EjpcB7h/OCzvSI3nIxWTFZdbA2HBael8qFl+nbJqyNFwl///CZRubcrnY8HBeMNzn13hDhPYgwsESGe+L0Amc9l9dLbmYNp/dqqtSTK8gzTZpIjsc1VZFQVQXL1pJlCbPbGUIYjg5rrmcbNo3Bo+L0EtBSePAyNERgca7nb/845yfPT/jNr37GdL7marKgbXqSgSArK7Te8ebVJ54d1Dx/UPPs0SHLVcOH727J05QXP3pKmNtHiEJ9LyLRzsLxaMAoVXzz+oofntYMK02dCqbXC8S9Ia53LG7XjIqUvarg0RcHvP044fuLGQ/3csZ1HrkKBEeZ+juMkFLRW09WpLSdoWt75usdB4OaKkt4P2m46SRFpumWDSe1J9WGV68v+Xgx58txQaZhvFfHwkTQQTvRI8MGWiF6QZIpXpzd4/K7CVoqur5ntW745t0N97I8oMsWy6+/OkV5SHGcVQmq72mMQhVlFMwdzxIdLRd8IBK8v/PDgwd7qK5hsXMsFg0DrXl5esDb888opfjF80OO9nNmm5YqkeydFCRaIgZ3xfHRxjjbo621CCEiRIF1JTRFVaKUpJaWPEvRynNU77HcGoaZ5sW9GtFZaidoMRHWYK68Hv4PGv9/ZWrb2xAy6GgyEZnP0oS0ykm8IxOWxsvoievZimWaMFkOybSklAKVa3SS0jlBWg2iYGL96AKPdNagvED4sIWOfAQAi6LgcrpmupW8/bTjz/+6ZN603Kwb/vTP7/nL61t21rNcd1zNDJtesHd4EPmNO3iPCDLtQ1b4CBhSqShDgaTtesokZXq75uHRkF+qI7wVpNKRZJoqE1xPljQNjA8dYpiz3RnygYrDOsCKkEXWR8YdEqVyrOlpneft+S1jLyhzRbfc8PLxmFEBCoexMLnZsuocwzJhkKe8+3YO9Q3Pv3wQYeYOiAC9xbuQLRolQx7B+4spH69W9IOMYQq2s/z742eOhxlSwK7pUMLjRZC3ZN7C5aIlv5zy7On9kJ53MpWgg6pcgCdJcELE6+2HaxoDr68XVKlkP9HUWiDsnSnDFFoKigTO5x3n2y0ba1mvG0xvIumheFCn9nh660gSF79tO8un6wWbnSFVgjLRMR2D6WT4IEyVSIx1cajlzvB+uuLs5JDVzkSoq9GAwfCAajgKCexwkejAvYoHzXS1xfaOXikoc4ZFOPoEO+NiVKxNz3TjKdqO8/WOtu/pjWGydDx+8oyiqmmNwfTuLovi5QRWwmrb0hpLoRVpqnhzM+OqyBjnCQMJadOzMpbPO4NQinmz5exoj0Vj+PnpCOMcZapR3tE127BxEuMBbFSr2bXUmcI4z/1hyUGmI1zrnUXmCTIEWpWGhGfdO35wuM/K9HRdyyBTzCY3dLs19HfikUIJnPcERweo2mbHw/2a1bbhfLYhS1PujwYcDXICx7PWsraONEvJk5RvFxum4afgYI//XC5YTheYTUNvOjwWHdwWVNQG9pGsmp5BmvBkvM+Hz0umq4ZEeoZlTiIUnbVcrLZsTE8w6UGR8sXhkLYN0k3icyniQR9Ptf8C10MdSvy+dAAAAAAASUVORK5CYII=",wink:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAFR0lEQVRIxz2W2W4dxxGGv6rpORt56CNRJC1SlhxHEWQgughyFyBXeau8QN4hD5QFsBM4CIzIgSTGjqjF3A8PZ6a7qyoXw7iBvq3+q+pfWn7/hz+Gh6INmAUiiZRaVMDNCCC1LW4OAhKGlUItG3zoiQgIwyIAQbXBPYhwPJyUcw8RRECTWpp2gpthGAQ02kA4VntUBauFsIoQqDZUK4go4RV3w8wwqwSBWyURjmpDIADkvGaS5ogaSgteKX2PBHiuiAQSTq2GeUUliDvEqoqHE2G4OeFOijBKqQgN7WSC10wNUA3CBgCkERTFomI1Y3UgAnIeeHfyA4eHR5g7AUQIIY6IgwapDBlVATG8QhJoJPCh5+uv/srBw0MePXpCAGYDZegIr6w3G/7xzd84eriPcEC4A0J4kGuBqIQHSd1QFACzjvCCNxMs93x894qX337Fs+cv2N3dZ3u5zfXlOR8/vuPk7festqbs7X1JNcc9gMDcwA2IcUS59IgICtQykFIiLKg1s7Ozw/v3J3zz978QAaKJRgMi2F0u+HTvCK9O7jtEFat+Vzhwr0QEKfe3aKMQICKIJlSFplHu3b/PfJ7oup6txQLLmUaVRhv2dhbM5jNO3p4w316yXG6j2kAI7o6FE15J/18OCIIRBDUMEbg4P2c6nTGbzti9d4/Ls1MaVWwYePvxlAElJkvefP+G/f0Djo4ek5p2pGs4EkbKeUAIUkooYDWDG2XoGMrAcnvJr3/5lIvzazaXZ+zu7tHf3nB+cU4bha3VCprEer3m9PSMvb1daq24VZAglZJJjVCGgoqOmggjDx0TDdJUef6zI86Xc7y/4vXbMx7v32M5VdJkwrNnX/Dh4oqv//wnLpuGra0FKopHBYIUtWAuo+QBrxVU8DrwYHfJQhtuu4Fnjx/z5tUxTx7u8uIXPycJzHaWHD75nJPLzOvvvqPvOzbdLbPpglIrYZnkbkSMKlZVhlpIKYG0PNg/5PDBNtuzOY02/O63v2E2nbLpbulzZrVasT1TPv90xc72nH6zpu862ibhNlpNijsfUlXcnZ+OBNWVi/WG2x9P2WwvePToiK5k1l3P1mKOqOJuaFNRgloytVTMKhagAilUCNfRW8pA27aoKmGVda7cboz/vPyW5198xgD0ZSA1Ddoq85hTcqaS6bqeWjNdt2G+mI01aEjhipvhlgGICPq+x6sRAsvljM+ePmVTbnn97gPb8ylbsynVnG4YqO4MtdJ1GyaTltKvKXnJbDpFqKQI8AgMUKCUgpkxji64vMzcX02QNkYnlZEQN7e3NE1iYs75xRWb2xtWO5/w9sMpuyKYg4iTShnGwCgFU8FyJSQgxm5ydi6lcnBvwTQJs3lLK83YQd9TauX4v2959PCAk/en7O7tIyJYOISRrOQxXHwsKipYtTGRzKnu5AuDMFbLGebOYtKSayXnDAj//NcrZospO6sVkraIELwMRDiplEKEExGYGe5jcIiMo3MzzIOzy47qzlqdtlFmk8SkbchDwcJxg5ubG+Y7E/RuvBE+6mCMOkdEQASRO8Myx8yoZgx9YbmdaKctN+s1b47PONh/gFWn6wqXZ1e00zlplklt4O6IKGpef+K/u+NmlFLubh4ztlZqKayvrlntbHGw+wkewvHxCdfXazbrNR5BqWUEVscHcs6kcH5COyKvgFJrHXNCdbRxgaurK84urjj54QREWK2WnH38EYFxqe6UXGgWU6w6Vp10u7keRXGXpXGHQERwDHz8zpgN9N3Ay38f8/79R3714ktqzvT9MFJXwMUYco+oEoC78T9Eot2w1W2OkwAAAABJRU5ErkJggg=="},A=u("div","#main-scene"),m={showGuestNav:u("span","#ms-show-guest-nav",A),backToMenuButton:u("button","#ms-button-reload",A),buttonProfile:u("button","#ms-button-profile",A),username:u("span","#ms-username",A),buttonInbox:u("button","#ms-button-inbox",A),buttonLiveChat:u("button","#ms-button-livechat",A),buttonGoToUser:u("button","#ms-button-go-to-user",A),buttonSettings:u("button","#ms-button-settings",A),buttonModeration:u("button","#ms-button-moderation",A),buttonLogOut:u("button","#ms-button-log-out",A),ulist:u("div","#ms-ulist",A),makePost:u("div","#ms-make-post",A),doNotTheSpamming:u("div","#ms-do-not-the-spamming",A),buttonPresets:u("button","#ms-button-presets",A),buttonAttachment:u("button","#ms-button-attachment",A),msg:u("textarea","#ms-msg",A),suggestions:u("div","#ms-suggestions",A),presets:u("span","#ms-presets",A),buttonPost:u("button","#ms-button-post",A),details:u("div","#ms-details",A),detailsText:u("span","#ms-details-text",A),detailsClear:u("button","#ms-details-clear",A),replies:u("div","#ms-replies",A),posts:u("div","#ms-posts",A),postTemplate:u("template","#ms-post-template",A),replyTemplate:u("template","#ms-reply-template",A),livechatPosts:u("div","#ml-posts",A)},Q={};bt.then(e=>{m.username.textContent=e.username,m.showGuestNav.classList.add("hidden"),m.makePost.classList.remove("hidden"),m.buttonProfile.classList.remove("hidden"),m.buttonProfile.addEventListener("click",()=>{xe(e.username)}),m.buttonInbox.classList.remove("hidden"),m.buttonLiveChat.classList.remove("hidden"),m.buttonGoToUser.classList.remove("hidden"),m.buttonSettings.classList.remove("hidden"),e.permissions.length!==0&&m.buttonModeration.classList.remove("hidden"),m.buttonLogOut.classList.remove("hidden")});gt.then(e=>{e.messages.forEach(t=>{const n=nr(t,!1);Q[t._id]={element:n,data:t,replies:[]},m.posts.append(n)}),tr(e.ulist)});m.backToMenuButton.addEventListener("click",()=>{N("register-login")});m.buttonInbox.addEventListener("click",()=>{N("main-inbox")});m.buttonGoToUser.addEventListener("click",()=>{const e=prompt("What user do you want to go to?");e&&xe(e)});m.buttonModeration.addEventListener("click",()=>{N("main-moderation")});m.buttonSettings.addEventListener("click",()=>{N("main-config")});m.buttonLogOut.addEventListener("click",()=>{localStorage.removeItem("beardeer:token"),location.reload()});let ue=!1;m.buttonLiveChat.addEventListener("click",()=>{ue=!ue,m.buttonLiveChat.textContent=ue?"Home":"Livechat",m.posts.classList.toggle("hidden",ue),m.livechatPosts.classList.toggle("hidden",!ue)});m.msg.addEventListener("keydown",e=>{if(It(m.msg),ee("enterSends")&&e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),St()),e.key==="Tab"){const t=m.suggestions.firstChild;t&&t instanceof HTMLButtonElement&&(t.click(),e.preventDefault())}});["touchstart","keyup","mouseup","keydown","focus"].forEach(e=>{m.msg.addEventListener(e,()=>er())});m.buttonPost.addEventListener("click",()=>{St()});let j=[],se=[];const St=async()=>{await O({command:"post",content:m.msg.value,...ue?{chat:"livechat"}:{},replies:j,attachments:se},w({}))&&(j=[],m.msg.value="",It(m.msg),Xn())},It=e=>{requestAnimationFrame(()=>{e.style.minHeight="auto",e.style.minHeight=e.scrollHeight+"px"})},Ge=()=>{j.length===0&&se.length===0?m.details.classList.add("hidden"):(m.details.classList.remove("hidden"),m.detailsText.textContent=`${j.length} repl${j.length===1?"y":"ies"}, ${se.length} attachment${se.length===1?"":"s"}`)};m.buttonAttachment.addEventListener("click",()=>{if(se.length===5){alert("You already have 5 attachments.");return}const e=prompt("Attachment URL...");e&&(se.push(e),Ge())});m.detailsClear.addEventListener("click",()=>Xn());const Xn=()=>{j=[],se=[],m.replies.innerHTML="",Ge()};let be=!1;m.buttonPresets.addEventListener("click",()=>{be=!be,m.doNotTheSpamming.classList.toggle("hidden",!be),m.msg.classList.toggle("hidden",be),m.presets.classList.toggle("hidden",!be)});m.presets.querySelectorAll("button").forEach(e=>{e.addEventListener("click",()=>{m.msg.value=e.textContent||"",St()})});function er(){const e=ec();m.suggestions.innerHTML="",e!==null&&m.suggestions.append(...e.map(({desc:t,string:n,newPos:r})=>{const o=document.createElement("button");return o.textContent=t,o.addEventListener("click",()=>{m.msg.value=n,m.msg.setSelectionRange(r,r),m.msg.focus(),er()}),o}))}function ec(){if(m.suggestions.classList.remove("hidden"),m.msg.selectionStart!==m.msg.selectionEnd)return null;const e=nc();if(e!==null)return e;const t=m.msg.value.slice(0,m.msg.selectionStart),n=m.msg.value.slice(m.msg.selectionStart),r=t.match(/@([a-zA-Z\-_0-9]*)$/);if(r){const o=r[1];return we.filter(i=>i!==o&&i.startsWith(o)).map(i=>({desc:"@"+i,string:t.slice(0,-r[0].length)+"@"+i+(n.startsWith(" ")?"":" ")+n,newPos:m.msg.selectionStart+1+(i.length-o.length)}))}return null}const tc=[{showIf:()=>we.includes("bot"),prefix:"/",commands:["help","ping","whoami","dice","expose ","grrr","me","orange","work","fish","about","golf","glungus","thesoupiscoldandthesaladishot","count ","math ","lb","pi","bal","8ball","glup","notify ","reversefish","hEmulator ","shameposts"]},{showIf:()=>we.includes("legoshi"),prefix:"@legoshi ",commands:["help","quote","cat","death","math ","kill ","balance","labor","reverselabor","shop","buy "]},{showIf:()=>we.includes("sb4bot"),prefix:"@sb4bot ",commands:["help","balance","notify ","reversework","rps ","rng ","wawameter ","work"]}];function nc(){if(m.msg.selectionStart!==m.msg.value.length)return null;const e=tc.find(t=>m.msg.value.startsWith(t.prefix)&&t.showIf());return e?e.commands.map(t=>e.prefix+t).filter(t=>t!==m.msg.value&&t.startsWith(m.msg.value)).map(t=>({desc:t.trim(),string:t,newPos:t.length})):null}Qe(w({command:q("ulist"),ulist:On}),e=>{tr(e.ulist)});Qe(w({command:q("new_post"),data:Dn,origin:q("livechat").optional()}),e=>{const t=nr(e.data,!!e.origin);Q[e.data._id]={element:t,data:e.data,replies:[]},(e.origin?m.livechatPosts:m.posts).insertAdjacentElement("afterbegin",t)});Qe(w({command:q("edited_post"),_id:k(),content:k()}),e=>{const t=Q[e._id];if(!t){console.warn(`No post with the ID ${e._id} found`);return}t.data.content=e.content,t.element&&(u("div",".post-content",t.element).innerHTML=_e(e.content)),t.replies.forEach(n=>{u("span",".reply-content",n).innerHTML=_e(e.content,{inline:!0})})});Qe(w({command:q("deleted_post"),_id:k(),deleted_by_author:mt()}),e=>{const t=Q[e._id];if(!t){console.warn(`No post with the ID ${e._id} found`);return}const n=e.deleted_by_author?"post deleted by author":"post deleted by moderator",r=t.element;if(r){const o=document.createElement("div");o.classList.add("post-deletion-message"),o.textContent=n,r.replaceWith(o)}t.replies.forEach(o=>{u("span",".reply-display-name",o).textContent="deleted",u("span",".reply-username",o).textContent="deleted",u("span",".reply-content",o).textContent=n}),delete Q[e._id]});const rc=e=>e===null?" ":e.startsWith("BossDeer ")?" ":e.startsWith("BearDeer")?" ":e.startsWith("BetterDeer ")?" ":e.startsWith("PresetDeer ")?" ":e.startsWith("Kansas")?" ":e.startsWith("whitetail")?"":e==="Unknown"?"":"";let we=[];const tr=e=>{const t=Object.entries(e);if(we=t.map(([n])=>n),t.length===0){m.ulist.innerHTML="Nobody is online. ";return}if(t.length===1){m.ulist.innerHTML="You are the only user online. ";return}m.ulist.textContent=`${t.length} users online (`,t.forEach(([n,{client:r}],o)=>{const s=document.createElement("button");s.classList.add("no-button-styles"),s.textContent=n+" "+rc(r),s.addEventListener("click",()=>{xe(n)}),s.title=r||"",m.ulist.append(s),o!==t.length-1&&m.ulist.append(", ")}),m.ulist.append(")")},nr=(e,t)=>{const n=u("div",".post",cn(m.postTemplate));u("img",".pfp",n).src=e.author.avatar,u("button",".post-pfp",n).addEventListener("click",()=>{xe(e.author.username)}),u("b",".post-display-name",n).textContent=e.author.display_name,u("span",".post-username",n).textContent=e.author.username,u("button",".post-author",n).addEventListener("click",()=>{xe(e.author.username)}),u("span",".post-date",n).textContent=e.created.toLocaleString();const r=u("div",".post-content",n);r.innerHTML=_e(e.content);const o=u("div",".post-replies",n);e.replies.forEach(c=>{const d=on(c);Q[c._id]?Q[c._id].replies.push(d):Q[c._id]={data:c,replies:[d]},o.append(d)});const s=u("div",".post-attachments",n);e.attachments.forEach(c=>{const d=document.createElement("div");d.classList.add("attachment"),s.append(d),fetch(c,{method:"HEAD"}).then(async f=>{var h;if((h=f.headers.get("content-type"))!=null&&h.startsWith("video/")){const b=document.createElement("video");b.src=c,b.addEventListener("loadeddata",()=>{b.height=b.clientHeight,b.width=b.clientWidth}),b.controls=!0,d.append(b)}else{const b=document.createElement("img");b.src=c,d.append(b)}}).catch(()=>{const f=document.createElement("img");f.src=c,d.append(f)})}),u("button",".post-reply-button",n).addEventListener("click",()=>{if(j.length===5||j.some(h=>h===e._id))return;j.push(e._id);const c=document.createElement("div");c.classList.add("ms-reply-wrapper");const d=on(e);c.append(d);const f=document.createElement("button");f.classList.add("no-button-styles"),f.classList.add("link-styles"),f.textContent="Remove",f.addEventListener("click",()=>{j=j.filter(h=>h!==e._id),c.remove(),Ge()}),c.append(f),m.replies.append(c),Ge(),m.msg.focus()}),bt.then(c=>{t||(u("span",".post-reply-button-area",n).classList.remove("hidden"),c.username===e.author.username&&u("span",".post-edit-button-area",n).classList.remove("hidden"),(c.username===e.author.username||c.permissions.includes("DELETE"))&&u("span",".post-delete-button-area",n).classList.remove("hidden"))});const i=u("div",".post-content-editing",n),a=u("textarea",".post-content-editing-textarea",n),l=async()=>{await O({command:"edit_post",id:e._id,content:a.value},w({}))&&(r.classList.remove("hidden"),i.classList.add("hidden"))};return a.addEventListener("keydown",c=>{It(a),ee("enterSends")&&c.key==="Enter"&&!c.shiftKey&&(l(),c.preventDefault())}),u("button",".post-edit-button",n).addEventListener("click",()=>{r.classList.add("hidden"),i.classList.remove("hidden"),a.value=Q[e._id].data.content,a.focus()}),u("button",".post-content-editing-ok",n).addEventListener("click",l),u("button",".post-content-editing-cancel",n).addEventListener("click",()=>{r.classList.remove("hidden"),i.classList.add("hidden")}),u("button",".post-delete-button",n).addEventListener("click",()=>{confirm(`Do you want to delete this post?
${e.content}`)&&O({command:"delete_post",id:e._id},w({}))}),n},on=e=>{const t=u("button",".reply",cn(m.replyTemplate));u("span",".reply-display-name",t).textContent=typeof e.author=="string"?e.author:e.author.display_name,u("span",".reply-username",t).textContent=typeof e.author=="string"?e.author:e.author.username;const n=u("span",".reply-content",t);return n.innerHTML=_e(e.content,{inline:!0}),t.addEventListener("click",()=>{var r,o;(o=(r=Q[e._id])==null?void 0:r.element)==null||o.scrollIntoView({behavior:"smooth"})}),t},G=u("div","#register-login"),F={tabLogin:u("button","#rl-t-login",G),tabSignup:u("button","#rl-t-signup",G),tabGuest:u("button","#rl-t-guest",G),loginContainer:u("div","#rl-login-container",G),signupContainer:u("div","#rl-signup-container",G),loginUsername:u("input","#rl-username",G),loginPassword:u("input","#rl-password",G),loginButton:u("button","#rl-login-button",G),signupUsername:u("input","#rl-username-s",G),signupPassword:u("input","#rl-password-s",G),signupInviteCode:u("input","#rl-invitecode",G),signupButton:u("button","#rl-signup-button",G)};F.tabLogin.addEventListener("click",()=>{F.loginContainer.classList.remove("hidden"),F.signupContainer.classList.add("hidden")});F.tabSignup.addEventListener("click",()=>{F.loginContainer.classList.add("hidden"),F.signupContainer.classList.remove("hidden")});F.tabGuest.addEventListener("click",()=>{N("main-scene")});F.loginButton.addEventListener("click",async()=>{const e=await O({command:"login_pswd",username:F.loginUsername.value,password:F.loginPassword.value,client:"BearDeer v2"},w({token:k(),user:ce}));e&&(Bn(e.token,e.user),N("main-scene"))});F.signupButton.addEventListener("click",async()=>{const e=await O({command:"register",username:F.signupUsername.value,password:F.signupPassword.value,invite_code:F.signupInviteCode.value,client:"BearDeer v2"},w({token:k(),user:ce}));e&&(localStorage.setItem("beardeer:token",e.token),location.reload())});const Ce=localStorage.getItem("beardeer:token");ln("register-login",()=>{Ce&&N("main-scene")});gt.then(async()=>{if(Ce){const e=await O({command:"login_token",token:Ce,client:"BearDeer v2"},w({user:ce}));if(!e){N("register-login");return}Bn(Ce,e.user)}});const sn=u("div","#user-display"),$e={buttonBack:u("button","#ud-button-back",sn),iframe:u("iframe","#ud-iframe",sn)};$e.buttonBack.addEventListener("click",()=>{N("main-scene")});const an={cole:"America/Detroit",delusions:"Europe/London",engineerrunner:"Europe/London",mybearworld:"Europe/Berlin",noodles:"-05:00",notfenixio:"Europe/Madrid",pix:"America/Detroit",pkmnq:"+08:00",stripes:"America/Detroit",wlodekm:"Europe/Kyiv"};let He=null;ct("user-display",async()=>{$e.iframe.classList.add("hidden");const e=await O({command:"get_user",username:ir()},w({user:ce}));if(!e){N("main-scene");return}const t=$e.iframe.contentDocument;if(!t)throw new Error("No document");u("style","#ud-custom-css",t).innerHTML=e.user.profile.css||"",u("style","#ud-theme",t).innerHTML=qe[ee("theme")],u("span","#ud-d-tags",t).innerHTML="",u("img","#ud-avatar",t).src=e.user.avatar,u("span","#ud-display-name",t).innerText=e.user.display_name,u("span","#ud-username",t).innerText="@"+e.user.username;const n=u("div","#ud-banner",t);if(n.style.backgroundImage=e.user.banner?`url('${e.user.banner}')`:"",n.classList.toggle("has-banner",!!e.user.banner),e.user.username in an){const o=new Intl.DateTimeFormat([],{timeZone:an[e.user.username],dateStyle:"short",timeStyle:"medium"}),s=()=>{u("span","#ud-tz",t).innerText=o.format(new Date)};He!==null&&clearInterval(He),s(),He=setInterval(s,500)}else u("span","#ud-tz",t).innerText="Unknown";if(u("span","#ud-created",t).innerText=e.user.created.toLocaleString(),u("small","#ud-permissions",t).innerText=`Permissions: ${e.user.permissions.toString().toLowerCase().replace(/,/g,", ")}`,u("small","#ud-special",t).innerHTML="",e.user.banned_until>new Date().getTime()/1e3?(u("span","#ud-banned-span",t).innerText=`Banned until ${new Date(e.user.banned_until*1e3).toLocaleString()}`,u("span","#ud-banned",t).classList.remove("hidden")):u("span","#ud-banned",t).classList.add("hidden"),u("span","#ud-bio",t).innerHTML=_e(e.user.profile.bio)||"This user does not have a bio.",e.user.profile.lastfm){u("div","#ud-lastfm-container",t).classList.add("hidden");var r=new XMLHttpRequest;r.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var o=JSON.parse(r.responseText);o.track["@attr"]&&o.track["@attr"].nowplaying?(u("div","#ud-lastfm-container",t).classList.remove("hidden"),u("img","#ud-lastfm-cover",t).src=o.track.image[o.track.image.length-1]["#text"],u("span","#ud-lastfm-name",t).innerText=o.track.name,u("span","#ud-lastfm-album",t).innerText=`on "${o.track.album["#text"]}"`,u("span","#ud-lastfm-artist",t).innerText=`by "${o.track.artist["#text"]}"`):u("div","#ud-lastfm-container",t).classList.add("hidden")}},r.open("GET",`https://lastfm.kije.workers.dev/${e.user.profile.lastfm}`,!0),r.send()}else u("div","#ud-lastfm-container",t).classList.add("hidden");$e.iframe.classList.remove("hidden")});N("register-login");
